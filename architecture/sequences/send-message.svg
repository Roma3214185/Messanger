<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="645px" preserveAspectRatio="none" style="width:1101px;height:645px;background:#FFFFFF;" version="1.1" viewBox="0 0 1101 645" width="1101px" zoomAndPan="magnify"><defs/><g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="19.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="23" x2="23" y1="81.2969" y2="564.2891"/></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="227.6245" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="231.0698" x2="231.0698" y1="81.2969" y2="564.2891"/></g><g><title>Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="380.7905" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="383.8682" x2="383.8682" y1="81.2969" y2="564.2891"/></g><g><title>MessageService</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="492.2632" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="495.7129" x2="495.7129" y1="81.2969" y2="564.2891"/></g><g><title>RabbitMQ</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="680.3374" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="684.0586" x2="684.0586" y1="81.2969" y2="564.2891"/></g><g><title>NotificationService</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="872.0996" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="876.0645" x2="876.0645" y1="81.2969" y2="564.2891"/></g><g><title>ChatService</title><rect fill="#000000" fill-opacity="0.00000" height="482.9922" width="8" x="1042.2988" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1046.0698" x2="1046.0698" y1="81.2969" y2="564.2891"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="77.9951">User</text><ellipse cx="23.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="5" y="576.2842">User</text><ellipse cx="23.9551" cy="588.0859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.9551,596.0859 L23.9551,623.0859 M10.9551,604.0859 L36.9551,604.0859 M23.9551,623.0859 L10.9551,638.0859 M23.9551,623.0859 L36.9551,638.0859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="193.0698" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="200.0698" y="69.9951">Frontend</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="193.0698" y="563.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="200.0698" y="583.2842">Frontend</text></g><g class="participant participant-head" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.8447" x="346.8682" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.8447" x="353.8682" y="69.9951">Gateway</text></g><g class="participant participant-tail" data-participant="Gateway"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75.8447" x="346.8682" y="563.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.8447" x="353.8682" y="583.2842">Gateway</text></g><g class="participant participant-head" data-participant="MessageService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.1006" x="432.7129" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.1006" x="439.7129" y="69.9951">MessageService</text></g><g class="participant participant-tail" data-participant="MessageService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.1006" x="432.7129" y="563.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.1006" x="439.7129" y="583.2842">MessageService</text></g><g class="participant participant-head" data-participant="RabbitMQ"><path d="M645.0586,55 L723.6162,55 C728.6162,55 728.6162,68.1484 728.6162,68.1484 C728.6162,68.1484 728.6162,81.2969 723.6162,81.2969 L645.0586,81.2969 C640.0586,81.2969 640.0586,68.1484 640.0586,68.1484 C640.0586,68.1484 640.0586,55 645.0586,55" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M723.6162,55 C718.6162,55 718.6162,68.1484 718.6162,68.1484 C718.6162,81.2969 723.6162,81.2969 723.6162,81.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.5576" x="645.0586" y="72.9951">RabbitMQ</text></g><g class="participant participant-tail" data-participant="RabbitMQ"><path d="M645.0586,563.2891 L723.6162,563.2891 C728.6162,563.2891 728.6162,576.4375 728.6162,576.4375 C728.6162,576.4375 728.6162,589.5859 723.6162,589.5859 L645.0586,589.5859 C640.0586,589.5859 640.0586,576.4375 640.0586,576.4375 C640.0586,576.4375 640.0586,563.2891 645.0586,563.2891" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M723.6162,563.2891 C718.6162,563.2891 718.6162,576.4375 718.6162,576.4375 C718.6162,589.5859 723.6162,589.5859 723.6162,589.5859" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.5576" x="645.0586" y="581.2842">RabbitMQ</text></g><g class="participant participant-head" data-participant="NotificationService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.0703" x="803.0645" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.0703" x="810.0645" y="69.9951">NotificationService</text></g><g class="participant participant-tail" data-participant="NotificationService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.0703" x="803.0645" y="563.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.0703" x="810.0645" y="583.2842">NotificationService</text></g><g class="participant participant-head" data-participant="ChatService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.458" x="997.0698" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.458" x="1004.0698" y="69.9951">ChatService</text></g><g class="participant participant-tail" data-participant="ChatService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.458" x="997.0698" y="563.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.458" x="1004.0698" y="583.2842">ChatService</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="219.6245,108.4297,229.6245,112.4297,219.6245,116.4297,223.6245,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.9551" x2="225.6245" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.2974" x="30.9551" y="107.3638">Send message</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="231.6245" x2="273.6245" y1="141.5625" y2="141.5625"/><line style="stroke:#181818;stroke-width:1;" x1="273.6245" x2="273.6245" y1="141.5625" y2="154.5625"/><line style="stroke:#181818;stroke-width:1;" x1="232.6245" x2="273.6245" y1="154.5625" y2="154.5625"/><polygon fill="#181818" points="242.6245,150.5625,232.6245,154.5625,242.6245,158.5625,238.6245,154.5625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.166" x="238.6245" y="136.4966">Save message offline</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="34.9551,179.6953,24.9551,183.6953,34.9551,187.6953,30.9551,183.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.9551" x2="230.6245" y1="183.6953" y2="183.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.6694" x="40.9551" y="178.6294">show offline saved message</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Gateway"><polygon fill="#181818" points="372.7905,208.8281,382.7905,212.8281,372.7905,216.8281,376.7905,212.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="231.6245" x2="378.7905" y1="212.8281" y2="212.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.7749" x="238.6245" y="207.7622">Send via socket</text></g><g class="message" data-participant-1="Gateway" data-participant-2="NotificationService"><polygon fill="#181818" points="864.0996,237.9609,874.0996,241.9609,864.0996,245.9609,868.0996,241.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="384.7905" x2="870.0996" y1="241.9609" y2="241.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.7749" x="391.7905" y="236.895">Send via socket</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="695.3374,267.0938,685.3374,271.0938,695.3374,275.0938,691.3374,271.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.3374" x2="875.0996" y1="271.0938" y2="271.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.1865" x="701.3374" y="266.0278">push saveMessage()</text></g><g class="message" data-participant-1="MessageService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="672.3374,296.2266,682.3374,300.2266,672.3374,304.2266,676.3374,300.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="496.2632" x2="678.3374" y1="300.2266" y2="300.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0742" x="503.2632" y="295.1606">subscribe saveMessage()</text></g><g class="message" data-participant-1="MessageService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="672.3374,325.3594,682.3374,329.3594,672.3374,333.3594,676.3374,329.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="496.2632" x2="678.3374" y1="329.3594" y2="329.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.8213" x="503.2632" y="324.2935">publish MessageCreated</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="695.3374,354.4922,685.3374,358.4922,695.3374,362.4922,691.3374,358.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="689.3374" x2="875.0996" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.7622" x="701.3374" y="353.4263">subscribe saved message</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="ChatService"><polygon fill="#181818" points="1034.2988,383.625,1044.2988,387.625,1034.2988,391.625,1038.2988,387.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="876.0996" x2="1040.2988" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.7549" x="883.0996" y="382.5591">get chat members</text></g><g class="message" data-participant-1="ChatService" data-participant-2="NotificationService"><polygon fill="#181818" points="887.0996,412.7578,877.0996,416.7578,887.0996,420.7578,883.0996,416.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="881.0996" x2="1045.2988" y1="416.7578" y2="416.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.1992" x="893.0996" y="411.6919">receive chat members</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="Gateway"><polygon fill="#181818" points="395.7905,441.8906,385.7905,445.8906,395.7905,449.8906,391.7905,445.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="389.7905" x2="875.0996" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7417" x="401.7905" y="440.8247">push notification</text></g><g class="message" data-participant-1="Gateway" data-participant-2="Frontend"><polygon fill="#181818" points="242.6245,471.0234,232.6245,475.0234,242.6245,479.0234,238.6245,475.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="236.6245" x2="383.7905" y1="475.0234" y2="475.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7417" x="248.6245" y="469.9575">push notification</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="231.6245" x2="273.6245" y1="504.1563" y2="504.1563"/><line style="stroke:#181818;stroke-width:1;" x1="273.6245" x2="273.6245" y1="504.1563" y2="517.1563"/><line style="stroke:#181818;stroke-width:1;" x1="232.6245" x2="273.6245" y1="517.1563" y2="517.1563"/><polygon fill="#181818" points="242.6245,513.1563,232.6245,517.1563,242.6245,521.1563,238.6245,517.1563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.9868" x="238.6245" y="499.0903">save message</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="34.9551,542.2891,24.9551,546.2891,34.9551,550.2891,30.9551,546.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.9551" x2="230.6245" y1="546.2891" y2="546.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.9692" x="40.9551" y="541.2231">show saved message</text></g><!--SRC=[bPB1JiCm38RlUGeVuS0BzC1b4fo611CFu6JkQh4bNU9qukr9IxCbMYl49GVx-sFxjz68y_0PoAiUlR3X7gt0YtTMoEwhu2iANV2xYcqf13pGZlp0XjGvKYJuGArPjkyL-UQ4MpOex6p6o_ocGybnDJO4Jy_NFXhOfHTElzLK3fS890O7oWoujZsohTdfsmP2vouv3o69bd-Uvvrh3umGdFaYKNDYP1QckkSNe56RRMgWZw6R6fdjV7XKjR4r7g8EnhEcVsZwg8-SgipCnbCQOlztQtMjcr4hmcAB3Hn8mAH04fqq-Q2AxAfvdWnnscCbNAbstT1ae2sWSaUt8xh7bYwfcKPTF8doW2e_VW00]--></g></svg>