[11-01 19:53:08] [info] [] Logger initialized for service 'Gateway'
[11-01 19:53:08] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[11-01 19:53:08] [info] [] Read 451 bytes
[11-01 19:53:08] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[11-01 19:53:08] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[11-01 19:53:08] [info] [GatewayServer::run] Starting API Gateway on port 8084
[11-01 20:03:41] [info] [] Logger initialized for service 'Gateway'
[11-01 20:03:41] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[11-01 20:03:41] [info] [] Read 451 bytes
[11-01 20:03:41] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[11-01 20:03:41] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[11-01 20:03:41] [info] [GatewayServer::run] Starting API Gateway on port 8084
[11-01 20:03:44] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[11-01 20:03:44] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 20:03:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":996,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/auth/me"}
[11-01 20:25:46] [info] [] Logger initialized for service 'Gateway'
[11-01 20:25:46] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[11-01 20:25:46] [info] [] Read 451 bytes
[11-01 20:25:46] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[11-01 20:25:46] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[11-01 20:25:46] [info] [GatewayServer::run] Starting API Gateway on port 8084
[11-01 20:25:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[11-01 20:25:51] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 20:25:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":16,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"error\":\"User not founded\"}","status_code":404,"url":"/auth/me"}
[11-01 20:26:40] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000001","url":"/auth/register"}
[11-01 20:26:40] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/register
[11-01 20:26:40] [info] [RedisCache::set] Set request:ED5970E8-859E-41A6-A743-C7081106437C - { "status": "queued" } for 300 seconds
[11-01 20:26:40] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"email\": \"roman5@gmail.com\",\n    \"name\": \"roman5name\",\n    \"password\": \"12345678\",\n    \"tag\": \"roman5\"\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["content-length","111"],["host","localhost:8084"]],"method":"POST","path":"/auth/register","port":8083,"request_id":"ED5970E8-859E-41A6-A743-C7081106437C","url_params":{}}
[11-01 20:26:41] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = ED5970E8-859E-41A6-A743-C7081106437C, status_code = 200, body = {"user":{"tag":"roman5","name":"roman5name","email":"roman5@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwMDEsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODM3ODc0NDYzNTM5MjAifQ.QPhlKB3sF4Y1_MpQwA5fG0N7_H_LONPnXPKNsRuezk5HKiI1F3eTTh5UcVNxXZZRRSVcnGssmB9_xgj7Jq_4-22D-NNTlvfpHoXKOaxqVAIH8UXv9feuy3dexftTY5fXV1H8_a_STCZCMM8gvfupDvcITh6Z4O2GK-tMMDdhtvCST-qBDedOVNZeztdEPGx744U3nL--sQ_cd69ILkDeigqop5hUfmKMYDWwX4qie3P48N47WzjxgEc1p-_RCU5EKf9orPqaB2lgO1nijIXBRK_Ycx7p3l8Wwc3SEfQjM3pnW5WlJm3k489dkkj99SOKFCXORRkMJDyr6-hUZQk5QA"}
[11-01 20:26:41] [info] [RedisCache::set] Set request:ED5970E8-859E-41A6-A743-C7081106437C - {"status":"finished"} for 300 seconds
[11-01 20:26:41] [info] [RedisCache::set] Set request_id:ED5970E8-859E-41A6-A743-C7081106437C - 200 for 1227676 seconds
[11-01 20:26:41] [info] [RedisCache::set] Set request_body:ED5970E8-859E-41A6-A743-C7081106437C - {"user":{"tag":"roman5","name":"roman5name","email":"roman5@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwMDEsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODM3ODc0NDYzNTM5MjAifQ.QPhlKB3sF4Y1_MpQwA5fG0N7_H_LONPnXPKNsRuezk5HKiI1F3eTTh5UcVNxXZZRRSVcnGssmB9_xgj7Jq_4-22D-NNTlvfpHoXKOaxqVAIH8UXv9feuy3dexftTY5fXV1H8_a_STCZCMM8gvfupDvcITh6Z4O2GK-tMMDdhtvCST-qBDedOVNZeztdEPGx744U3nL--sQ_cd69ILkDeigqop5hUfmKMYDWwX4qie3P48N47WzjxgEc1p-_RCU5EKf9orPqaB2lgO1nijIXBRK_Ycx7p3l8Wwc3SEfQjM3pnW5WlJm3k489dkkj99SOKFCXORRkMJDyr6-hUZQk5QA","status":"finished"} for 300 seconds
[11-01 20:26:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":169,"event":"response_sent","method":"POST","request_id":"req-000001","responce":"{\"request_id\":\"ED5970E8-859E-41A6-A743-C7081106437C\",\"status\":\"queued\"}","status_code":202,"url":"/auth/register"}
[11-01 20:26:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/request/ED5970E8-859E-41A6-A743-C7081106437C/status"}
[11-01 20:26:41] [info] [AuthMiddleware::needToAuth] Check to auth url /request/ED5970E8-859E-41A6-A743-C7081106437C/status
[11-01 20:26:41] [info] [GatewayServer::registerRequestRoute] Request id = ED5970E8-859E-41A6-A743-C7081106437C
[11-01 20:26:41] [info] [GatewayServer::registerRequestRoute] Status found, return {"user":{"tag":"roman5","name":"roman5name","email":"roman5@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwMDEsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODM3ODc0NDYzNTM5MjAifQ.QPhlKB3sF4Y1_MpQwA5fG0N7_H_LONPnXPKNsRuezk5HKiI1F3eTTh5UcVNxXZZRRSVcnGssmB9_xgj7Jq_4-22D-NNTlvfpHoXKOaxqVAIH8UXv9feuy3dexftTY5fXV1H8_a_STCZCMM8gvfupDvcITh6Z4O2GK-tMMDdhtvCST-qBDedOVNZeztdEPGx744U3nL--sQ_cd69ILkDeigqop5hUfmKMYDWwX4qie3P48N47WzjxgEc1p-_RCU5EKf9orPqaB2lgO1nijIXBRK_Ycx7p3l8Wwc3SEfQjM3pnW5WlJm3k489dkkj99SOKFCXORRkMJDyr6-hUZQk5QA","status":"finished"}
[11-01 20:26:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"{\"user\":{\"tag\":\"roman5\",\"name\":\"roman5name\",\"email\":\"roman5@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416183787446353920},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwMDEsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODM3ODc0NDYzNTM5MjAifQ.QPhlKB3sF4Y1_MpQwA5fG0N7_H_LONPnXPKNsRuezk5HKiI1F3eTTh5UcVNxXZZRRSVcnGssmB9_xgj7Jq_4-22D-NNTlvfpHoXKOaxqVAIH8UXv9feuy3dexftTY5fXV1H8_a_STCZCMM8gvfupDvcITh6Z4O2GK-tMMDdhtvCST-qBDedOVNZeztdEPGx744U3nL--sQ_cd69ILkDeigqop5hUfmKMYDWwX4qie3P48N47WzjxgEc1p-_RCU5EKf9orPqaB2lgO1nijIXBRK_Ycx7p3l8Wwc3SEfQjM3pnW5WlJm3k489dkkj99SOKFCXORRkMJDyr6-hUZQk5QA\",\"status\":\"finished\"}","status_code":200,"url":"/request/ED5970E8-859E-41A6-A743-C7081106437C/status"}
[11-01 20:26:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/chats"}
[11-01 20:26:41] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 20:26:41] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 20:26:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:26:41] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:26:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:26:41] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[11-01 20:26:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[11-01 20:26:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[11-01 20:26:41] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 20:26:41] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 20:26:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 20:26:41] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 20:27:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/users/search"}
[11-01 20:27:23] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:23] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:23] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:23] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:23] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 300 seconds
[11-01 20:27:23] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/users/search"}
[11-01 20:27:23] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:23] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:23] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:23] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:23] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 300 seconds
[11-01 20:27:23] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/users/search"}
[11-01 20:27:24] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:24] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[11-01 20:27:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/users/search"}
[11-01 20:27:24] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:24] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:24] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[11-01 20:27:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/users/search"}
[11-01 20:27:24] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:24] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 300 seconds
[11-01 20:27:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000009","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:26] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/users/search"}
[11-01 20:27:26] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:26] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:26] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman6 
[11-01 20:27:26] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman6 
[11-01 20:27:26] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman6 - {"users":[]} for 300 seconds
[11-01 20:27:26] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000010","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/users/search"}
[11-01 20:27:27] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:27] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:27] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:27] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 300 seconds
[11-01 20:27:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/users/search"}
[11-01 20:27:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[11-01 20:27:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/users/search"}
[11-01 20:27:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[11-01 20:27:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/users/search"}
[11-01 20:27:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 300 seconds
[11-01 20:27:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000014","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000015","url":"/users/search"}
[11-01 20:27:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:28] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 300 seconds
[11-01 20:27:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000015","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:32] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 20:27:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000016","url":"/auth/register"}
[11-01 20:27:51] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/register
[11-01 20:27:51] [info] [RedisCache::set] Set request:92BB2D97-8FE6-44CF-8314-F16B6BC1F47D - { "status": "queued" } for 300 seconds
[11-01 20:27:51] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"email\": \"roman6@gmail.com\",\n    \"name\": \"roman6name\",\n    \"password\": \"12345678\",\n    \"tag\": \"roman6\"\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["content-length","111"],["host","localhost:8084"]],"method":"POST","path":"/auth/register","port":8083,"request_id":"92BB2D97-8FE6-44CF-8314-F16B6BC1F47D","url_params":{}}
[11-01 20:27:52] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = 92BB2D97-8FE6-44CF-8314-F16B6BC1F47D, status_code = 200, body = {"user":{"tag":"roman6","name":"roman6name","email":"roman6@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416184085095137280},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA"}
[11-01 20:27:52] [info] [RedisCache::set] Set request:92BB2D97-8FE6-44CF-8314-F16B6BC1F47D - {"status":"finished"} for 664382 seconds
[11-01 20:27:52] [info] [RedisCache::set] Set request_id:92BB2D97-8FE6-44CF-8314-F16B6BC1F47D - 200 for 300 seconds
[11-01 20:27:52] [info] [RedisCache::set] Set request_body:92BB2D97-8FE6-44CF-8314-F16B6BC1F47D - {"user":{"tag":"roman6","name":"roman6name","email":"roman6@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416184085095137280},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA","status":"finished"} for 300 seconds
[11-01 20:27:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":160,"event":"response_sent","method":"POST","request_id":"req-000016","responce":"{\"request_id\":\"92BB2D97-8FE6-44CF-8314-F16B6BC1F47D\",\"status\":\"queued\"}","status_code":202,"url":"/auth/register"}
[11-01 20:27:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/request/92BB2D97-8FE6-44CF-8314-F16B6BC1F47D/status"}
[11-01 20:27:52] [info] [AuthMiddleware::needToAuth] Check to auth url /request/92BB2D97-8FE6-44CF-8314-F16B6BC1F47D/status
[11-01 20:27:52] [info] [GatewayServer::registerRequestRoute] Request id = 92BB2D97-8FE6-44CF-8314-F16B6BC1F47D
[11-01 20:27:52] [info] [GatewayServer::registerRequestRoute] Status found, return {"user":{"tag":"roman6","name":"roman6name","email":"roman6@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416184085095137280},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA","status":"finished"}
[11-01 20:27:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\",\"status\":\"finished\"}","status_code":200,"url":"/request/92BB2D97-8FE6-44CF-8314-F16B6BC1F47D/status"}
[11-01 20:27:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/chats"}
[11-01 20:27:52] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 20:27:52] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 20:27:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:27:52] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:27:52] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[11-01 20:27:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000018","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[11-01 20:27:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/ws"}
[11-01 20:27:52] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 20:27:52] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 20:27:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 20:27:52] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 20:27:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/users/search"}
[11-01 20:27:55] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:55] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:55] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:27:55] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 1100527 seconds
[11-01 20:27:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000020","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/users/search"}
[11-01 20:27:55] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:55] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:55] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:27:55] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 300 seconds
[11-01 20:27:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/users/search"}
[11-01 20:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:27:56] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[11-01 20:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/users/search"}
[11-01 20:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:27:56] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[11-01 20:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/users/search"}
[11-01 20:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:56] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:27:56] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 300 seconds
[11-01 20:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000024","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:27:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/users/search"}
[11-01 20:27:57] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:27:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:27:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman5 
[11-01 20:27:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman5 
[11-01 20:27:57] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman5 - {"users":[{"tag":"roman5","name":"roman5name","email":"roman5@gmail.com","avatar":"","id":7416183787446353920}]} for 1566448 seconds
[11-01 20:27:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":16,"event":"response_sent","method":"GET","request_id":"req-000025","responce":"{\"users\":[{\"tag\":\"roman5\",\"name\":\"roman5name\",\"email\":\"roman5@gmail.com\",\"avatar\":\"\",\"id\":7416183787446353920}]}","status_code":200,"url":"/users/search"}
[11-01 20:27:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000026","url":"/chats/private"}
[11-01 20:27:58] [info] [AuthMiddleware::needToAuth] Check to auth url /chats/private
[11-01 20:27:58] [info] [RedisCache::set] Set request:128F7566-2481-46F7-BC44-03A5A9E3574D - { "status": "queued" } for 300 seconds
[11-01 20:27:58] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"user_id\": 7416183787446353920\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-length","39"],["authorization","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["host","localhost:8084"]],"method":"POST","path":"/chats/private","port":8081,"request_id":"128F7566-2481-46F7-BC44-03A5A9E3574D","url_params":{}}
[11-01 20:27:58] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = 128F7566-2481-46F7-BC44-03A5A9E3574D, status_code = 500, body = {"error":"Failed to create chat"}
[11-01 20:27:58] [info] [RedisCache::set] Set request:128F7566-2481-46F7-BC44-03A5A9E3574D - {"status":"finished"} for 535727 seconds
[11-01 20:27:58] [info] [RedisCache::set] Set request_id:128F7566-2481-46F7-BC44-03A5A9E3574D - 500 for 950085 seconds
[11-01 20:27:58] [info] [RedisCache::set] Set request_body:128F7566-2481-46F7-BC44-03A5A9E3574D - {"error":"Failed to create chat","status":"finished"} for 1181325 seconds
[11-01 20:27:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"POST","request_id":"req-000026","responce":"{\"request_id\":\"128F7566-2481-46F7-BC44-03A5A9E3574D\",\"status\":\"queued\"}","status_code":202,"url":"/chats/private"}
[11-01 20:27:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/request/128F7566-2481-46F7-BC44-03A5A9E3574D/status"}
[11-01 20:27:58] [info] [AuthMiddleware::needToAuth] Check to auth url /request/128F7566-2481-46F7-BC44-03A5A9E3574D/status
[11-01 20:27:58] [info] [GatewayServer::registerRequestRoute] Request id = 128F7566-2481-46F7-BC44-03A5A9E3574D
[11-01 20:27:58] [info] [GatewayServer::registerRequestRoute] Status found, return {"error":"Failed to create chat","status":"finished"}
[11-01 20:27:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"{\"error\":\"Failed to create chat\",\"status\":\"finished\"}","status_code":500,"url":"/request/128F7566-2481-46F7-BC44-03A5A9E3574D/status"}
[11-01 20:34:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/auth/me"}
[11-01 20:34:36] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 20:34:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 20:34:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000029","url":"/chats"}
[11-01 20:34:36] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 20:34:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 20:34:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:34:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:34:36] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[11-01 20:34:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":23,"event":"response_sent","method":"GET","request_id":"req-000029","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[11-01 20:34:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/ws"}
[11-01 20:34:37] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 20:34:37] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 20:34:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 20:34:37] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 20:34:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/users/search"}
[11-01 20:34:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[11-01 20:34:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 300 seconds
[11-01 20:34:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:34:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/users/search"}
[11-01 20:34:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[11-01 20:34:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 740311 seconds
[11-01 20:34:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000032","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:34:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/users/search"}
[11-01 20:34:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[11-01 20:34:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[11-01 20:34:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:34:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/users/search"}
[11-01 20:34:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[11-01 20:34:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[11-01 20:34:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000034","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:34:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000035","url":"/users/search"}
[11-01 20:34:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:34:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[11-01 20:34:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 300 seconds
[11-01 20:34:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000035","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[11-01 20:34:39] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/users/search"}
[11-01 20:34:39] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[11-01 20:34:39] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[11-01 20:34:39] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman5 
[11-01 20:34:39] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 20:34:39] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman5 
[11-01 20:34:39] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman5 - {"users":[{"tag":"roman5","name":"roman5name","email":"roman5@gmail.com","avatar":"","id":7416183787446353920}]} for 300 seconds
[11-01 20:34:39] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"users\":[{\"tag\":\"roman5\",\"name\":\"roman5name\",\"email\":\"roman5@gmail.com\",\"avatar\":\"\",\"id\":7416183787446353920}]}","status_code":200,"url":"/users/search"}
[11-01 20:34:40] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000037","url":"/chats/private"}
[11-01 20:34:40] [info] [AuthMiddleware::needToAuth] Check to auth url /chats/private
[11-01 20:34:40] [info] [RedisCache::set] Set request:ECBFD8DA-5942-4BAA-BF19-B211DBD41442 - { "status": "queued" } for 571477 seconds
[11-01 20:34:40] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"user_id\": 7416183787446353920\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-length","39"],["authorization","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["host","localhost:8084"]],"method":"POST","path":"/chats/private","port":8081,"request_id":"ECBFD8DA-5942-4BAA-BF19-B211DBD41442","url_params":{}}
[11-01 20:34:40] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = ECBFD8DA-5942-4BAA-BF19-B211DBD41442, status_code = 200, body = {"id":7416185797688197120,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920,"name":"roman5name"}}
[11-01 20:34:40] [info] [RedisCache::set] Set request:ECBFD8DA-5942-4BAA-BF19-B211DBD41442 - {"status":"finished"} for 1588885 seconds
[11-01 20:34:40] [info] [RedisCache::set] Set request_id:ECBFD8DA-5942-4BAA-BF19-B211DBD41442 - 200 for 300 seconds
[11-01 20:34:40] [info] [RedisCache::set] Set request_body:ECBFD8DA-5942-4BAA-BF19-B211DBD41442 - {"id":7416185797688197120,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920,"name":"roman5name"},"status":"finished"} for 300 seconds
[11-01 20:34:40] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":41,"event":"response_sent","method":"POST","request_id":"req-000037","responce":"{\"request_id\":\"ECBFD8DA-5942-4BAA-BF19-B211DBD41442\",\"status\":\"queued\"}","status_code":202,"url":"/chats/private"}
[11-01 20:34:40] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/request/ECBFD8DA-5942-4BAA-BF19-B211DBD41442/status"}
[11-01 20:34:40] [info] [AuthMiddleware::needToAuth] Check to auth url /request/ECBFD8DA-5942-4BAA-BF19-B211DBD41442/status
[11-01 20:34:40] [info] [GatewayServer::registerRequestRoute] Request id = ECBFD8DA-5942-4BAA-BF19-B211DBD41442
[11-01 20:34:40] [info] [GatewayServer::registerRequestRoute] Status found, return {"id":7416185797688197120,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416183787446353920,"name":"roman5name"},"status":"finished"}
[11-01 20:34:40] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"{\"id\":7416185797688197120,\"type\":\"private\",\"user\":{\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416183787446353920,\"name\":\"roman5name\"},\"status\":\"finished\"}","status_code":200,"url":"/request/ECBFD8DA-5942-4BAA-BF19-B211DBD41442/status"}
[11-01 20:44:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/auth/me"}
[11-01 20:44:19] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 20:44:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":50,"event":"response_sent","method":"GET","request_id":"req-000039","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 20:44:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/chats"}
[11-01 20:44:19] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 20:44:19] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 20:44:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:44:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:44:19] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[11-01 20:44:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":81,"event":"response_sent","method":"GET","request_id":"req-000040","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 20:44:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/messages/7416185797688197120"}
[11-01 20:44:19] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 20:44:19] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 20:44:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:44:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:44:19] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 300 seconds
[11-01 20:44:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":64,"event":"response_sent","method":"GET","request_id":"req-000041","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 20:44:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/ws"}
[11-01 20:44:19] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 20:44:19] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 20:44:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 20:44:19] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 20:50:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/auth/me"}
[11-01 20:50:55] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 20:50:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":46,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 20:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/chats"}
[11-01 20:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 20:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 20:50:56] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 597764 seconds
[11-01 20:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":85,"event":"response_sent","method":"GET","request_id":"req-000044","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 20:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/messages/7416185797688197120"}
[11-01 20:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 20:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/messages/7416185797688197120"}
[11-01 20:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 20:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 20:50:56] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 300 seconds
[11-01 20:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":36,"event":"response_sent","method":"GET","request_id":"req-000045","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 20:50:56] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 1091807 seconds
[11-01 20:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":36,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 20:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/ws"}
[11-01 20:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 20:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 20:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 20:50:56] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 20:51:12] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:00:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/auth/me"}
[11-01 21:00:57] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:00:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:00:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/chats"}
[11-01 21:00:58] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:00:58] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1581269 seconds
[11-01 21:00:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000049","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:00:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/messages/7416185797688197120"}
[11-01 21:00:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:00:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/messages/7416185797688197120"}
[11-01 21:00:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:00:58] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 525612 seconds
[11-01 21:00:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000050","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:00:58] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 488456 seconds
[11-01 21:00:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:00:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/ws"}
[11-01 21:00:58] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:00:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:00:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:00:58] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:01:45] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:01:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000053","url":"/auth/me"}
[11-01 21:01:48] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:01:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000053","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:01:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/chats"}
[11-01 21:01:48] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:01:48] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[11-01 21:01:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000054","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:01:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/messages/7416185797688197120"}
[11-01 21:01:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:01:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/messages/7416185797688197120"}
[11-01 21:01:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /messages/7416185797688197120
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /messages/7416185797688197120 : cache:GET:/messages/7416185797688197120|before_id=0|limit=20 
[11-01 21:01:48] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 300 seconds
[11-01 21:01:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000055","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:01:48] [info] [RedisCache::set] Set cache:GET:/messages/7416185797688197120|before_id=0|limit=20 - [] for 300 seconds
[11-01 21:01:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:01:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/ws"}
[11-01 21:01:48] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:01:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:01:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:01:48] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:04:29] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:04:29] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:04:29] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:04:29] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:04:31] [info] [] Logger initialized for service 'Gateway'
[11-01 21:04:31] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[11-01 21:04:31] [info] [] Read 451 bytes
[11-01 21:04:31] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[11-01 21:04:31] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[11-01 21:04:31] [info] [GatewayServer::run] Starting API Gateway on port 8084
[11-01 21:04:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[11-01 21:04:35] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:04:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":31,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:04:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[11-01 21:04:36] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:04:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:04:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:04:36] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:04:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:04:36] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[11-01 21:04:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:04:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416185797688197120"}
[11-01 21:04:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:04:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416185797688197120"}
[11-01 21:04:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:04:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[11-01 21:04:36] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:04:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:04:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:04:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":81,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:04:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":81,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:04:36] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:04:39] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/messages/7416185797688197120"}
[11-01 21:04:39] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:04:39] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"500 Internal Server Error\r\n","status_code":500,"url":"/messages/7416185797688197120"}
[11-01 21:04:56] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[11-01 21:24:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/auth/me"}
[11-01 21:24:55] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:24:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":63,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:24:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/chats"}
[11-01 21:24:55] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:24:55] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:24:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:24:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:24:55] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[11-01 21:24:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":75,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:24:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/messages/7416185797688197120"}
[11-01 21:24:55] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:24:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/messages/7416185797688197120"}
[11-01 21:24:55] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:24:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/ws"}
[11-01 21:24:55] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:24:55] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:24:55] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:24:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":95,"event":"response_sent","method":"GET","request_id":"req-000009","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:24:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":97,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:24:55] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:27:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/auth/me"}
[11-01 21:27:55] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/chats"}
[11-01 21:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:27:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:27:56] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:27:56] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[11-01 21:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/messages/7416185797688197120"}
[11-01 21:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/messages/7416185797688197120"}
[11-01 21:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":86,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:27:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":87,"event":"response_sent","method":"GET","request_id":"req-000014","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:27:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000015","url":"/ws"}
[11-01 21:27:56] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:27:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:27:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:27:56] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:30:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000016","url":"/auth/me"}
[11-01 21:30:15] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:30:15] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":53,"event":"response_sent","method":"GET","request_id":"req-000016","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:30:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/chats"}
[11-01 21:30:15] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:30:15] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:30:15] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:30:15] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:30:15] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:30:15] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 58784 seconds
[11-01 21:30:15] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:30:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/messages/7416185797688197120"}
[11-01 21:30:15] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:30:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/messages/7416185797688197120"}
[11-01 21:30:15] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:30:16] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":85,"event":"response_sent","method":"GET","request_id":"req-000018","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:30:16] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":85,"event":"response_sent","method":"GET","request_id":"req-000019","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:30:16] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/ws"}
[11-01 21:30:16] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:30:16] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:30:16] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:30:16] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:32:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/auth/me"}
[11-01 21:32:19] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[11-01 21:32:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":58,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[11-01 21:32:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/chats"}
[11-01 21:32:20] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[11-01 21:32:20] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[11-01 21:32:20] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:32:20] [info] [CacheMiddleware::before_handle] Hit cache
[11-01 21:32:20] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[11-01 21:32:20] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1081369 seconds
[11-01 21:32:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[11-01 21:32:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/messages/7416185797688197120"}
[11-01 21:32:20] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:32:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/messages/7416185797688197120"}
[11-01 21:32:20] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[11-01 21:32:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":76,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:32:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":76,"event":"response_sent","method":"GET","request_id":"req-000024","responce":"[{\"id\":7416192506552958976,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"pp\",\"timestamp\":1768158079,\"local_id\":\"{a802f472-2b40-4e9e-b3cf-f1d710709c93}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{79b0ef45-349a-4c5a-90ae-22531301448f}\",\"timestamp\":1768158078,\"text\":\"p\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416192499326173184},{\"id\":7416189940708458496,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"joo\",\"timestamp\":1768157468,\"local_id\":\"{6b2ec0cb-5cfd-4d08-ab03-fa7f2a058cdb}\",\"readed_by_me\":true},{\"id\":7416189927567704064,\"sender_id\":7416184085095137280,\"chat_id\":7416185797688197120,\"text\":\"jo\",\"timestamp\":1768157464,\"local_id\":\"{3529bc3e-a72d-43da-aeaf-1e7bd9c45f24}\",\"readed_by_me\":true},{\"readed_by_me\":true,\"local_id\":\"{78477564-4bf6-4526-9ace-5a32a3e3cc01}\",\"timestamp\":1768157460,\"text\":\"j\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416189909339258880}]","status_code":200,"url":"/messages/7416185797688197120"}
[11-01 21:32:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/ws"}
[11-01 21:32:20] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[11-01 21:32:20] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[11-01 21:32:20] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[11-01 21:32:20] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[11-01 21:32:28] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 14:07:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000026","url":"/auth/me"}
[12-01 14:07:41] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:07:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":74,"event":"response_sent","method":"GET","request_id":"req-000026","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:07:42] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/chats"}
[12-01 14:07:42] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:07:42] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:07:42] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:07:42] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:07:42] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:07:42] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:07:42] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":9,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:07:42] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/messages/7416185797688197120"}
[12-01 14:07:42] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:07:42] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000029","url":"/messages/7416185797688197120"}
[12-01 14:07:42] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:07:42] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":53,"event":"response_sent","method":"GET","request_id":"req-000029","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:07:42] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:07:42] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/ws"}
[12-01 14:07:42] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:07:42] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:07:42] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:07:42] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:07:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/auth/me"}
[12-01 14:07:59] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:07:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:07:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/chats"}
[12-01 14:07:59] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:07:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:07:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:07:59] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:07:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:07:59] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 105750 seconds
[12-01 14:07:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000032","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:07:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/messages/7416185797688197120"}
[12-01 14:07:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:07:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/messages/7416185797688197120"}
[12-01 14:07:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:07:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:07:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000034","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:08:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000035","url":"/ws"}
[12-01 14:08:00] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:08:00] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:08:00] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:08:00] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:09:34] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/auth/me"}
[12-01 14:09:34] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:09:34] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:09:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000037","url":"/chats"}
[12-01 14:09:35] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:09:35] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:09:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:09:35] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:09:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:09:35] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1700690 seconds
[12-01 14:09:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000037","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:09:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/messages/7416185797688197120"}
[12-01 14:09:35] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:09:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/messages/7416185797688197120"}
[12-01 14:09:35] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:09:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000039","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:09:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:09:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/ws"}
[12-01 14:09:35] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:09:35] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:09:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:09:35] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:16:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/auth/me"}
[12-01 14:16:30] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:16:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":62,"event":"response_sent","method":"GET","request_id":"req-000041","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:16:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/chats"}
[12-01 14:16:31] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:16:31] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:16:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:16:31] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:16:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:16:31] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:16:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000042","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:16:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/messages/7416185797688197120"}
[12-01 14:16:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:16:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/messages/7416185797688197120"}
[12-01 14:16:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:16:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":24,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:16:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":24,"event":"response_sent","method":"GET","request_id":"req-000044","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:16:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/ws"}
[12-01 14:16:31] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:16:31] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:16:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:16:31] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:18:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/auth/me"}
[12-01 14:18:30] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:18:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:18:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/chats"}
[12-01 14:18:30] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:18:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:18:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:30] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:18:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:30] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:18:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000047","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:18:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/messages/7416185797688197120"}
[12-01 14:18:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/messages/7416185797688197120"}
[12-01 14:18:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":20,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":19,"event":"response_sent","method":"GET","request_id":"req-000049","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/ws"}
[12-01 14:18:31] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:18:31] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:18:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:18:31] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:18:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/auth/me"}
[12-01 14:18:47] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:18:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:18:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/chats"}
[12-01 14:18:48] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:18:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:18:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:48] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:18:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:48] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:18:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000052","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:18:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000053","url":"/messages/7416185797688197120"}
[12-01 14:18:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/messages/7416185797688197120"}
[12-01 14:18:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000053","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000054","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/ws"}
[12-01 14:18:48] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:18:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:18:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:18:48] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:18:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/auth/me"}
[12-01 14:18:57] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:18:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:18:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/chats"}
[12-01 14:18:58] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:18:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:18:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:58] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:18:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:18:58] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:18:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000057","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:18:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000058","url":"/messages/7416185797688197120"}
[12-01 14:18:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000059","url":"/messages/7416185797688197120"}
[12-01 14:18:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:18:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000058","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000059","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416185797688197120"}
[12-01 14:18:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000060","url":"/ws"}
[12-01 14:18:58] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:18:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:18:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:18:58] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:26:44] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000061","url":"/auth/me"}
[12-01 14:26:44] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:26:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000061","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:26:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000062","url":"/chats"}
[12-01 14:26:45] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:26:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:26:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:26:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:26:45] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:26:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":76,"event":"response_sent","method":"GET","request_id":"req-000062","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:26:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000063","url":"/messages/7416185797688197120"}
[12-01 14:26:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:26:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000064","url":"/messages/7416185797688197120"}
[12-01 14:26:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:26:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":32,"event":"response_sent","method":"GET","request_id":"req-000063","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:26:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":31,"event":"response_sent","method":"GET","request_id":"req-000064","responce":"[]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:26:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000065","url":"/ws"}
[12-01 14:26:45] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:26:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:26:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:26:45] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:27:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 14:50:26] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000066","url":"/auth/me"}
[12-01 14:50:26] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:50:26] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":69,"event":"response_sent","method":"GET","request_id":"req-000066","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:50:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000067","url":"/chats"}
[12-01 14:50:27] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:50:27] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:50:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:50:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:50:27] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1139707 seconds
[12-01 14:50:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":70,"event":"response_sent","method":"GET","request_id":"req-000067","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:50:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000068","url":"/messages/7416185797688197120"}
[12-01 14:50:27] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:50:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000069","url":"/messages/7416185797688197120"}
[12-01 14:50:27] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:50:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":49,"event":"response_sent","method":"GET","request_id":"req-000069","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:50:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":50,"event":"response_sent","method":"GET","request_id":"req-000068","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:50:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000070","url":"/ws"}
[12-01 14:50:27] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:50:27] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:50:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:50:27] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:50:39] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 14:50:55] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000071","url":"/auth/me"}
[12-01 14:50:55] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 14:50:55] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":59,"event":"response_sent","method":"GET","request_id":"req-000071","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 14:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000072","url":"/chats"}
[12-01 14:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 14:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 14:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:50:56] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 14:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 14:50:56] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 14:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000072","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 14:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000073","url":"/messages/7416185797688197120"}
[12-01 14:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000074","url":"/messages/7416185797688197120"}
[12-01 14:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 14:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":49,"event":"response_sent","method":"GET","request_id":"req-000073","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:50:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":50,"event":"response_sent","method":"GET","request_id":"req-000074","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 14:50:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000075","url":"/ws"}
[12-01 14:50:56] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 14:50:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 14:50:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 14:50:56] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 14:51:05] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:13:05] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000076","url":"/auth/me"}
[12-01 21:13:05] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 21:13:05] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":68,"event":"response_sent","method":"GET","request_id":"req-000076","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 21:13:05] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000077","url":"/chats"}
[12-01 21:13:05] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 21:13:05] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 21:13:05] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:13:06] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:13:06] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 21:13:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":92,"event":"response_sent","method":"GET","request_id":"req-000077","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 21:13:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000078","url":"/messages/7416185797688197120"}
[12-01 21:13:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:13:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000079","url":"/messages/7416185797688197120"}
[12-01 21:13:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:13:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000079","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:13:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000078","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:13:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000080","url":"/ws"}
[12-01 21:13:06] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 21:13:06] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 21:13:06] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 21:13:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 21:32:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000081","url":"/auth/me"}
[12-01 21:32:58] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 21:32:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":61,"event":"response_sent","method":"GET","request_id":"req-000081","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 21:32:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000082","url":"/chats"}
[12-01 21:32:59] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 21:32:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 21:32:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:32:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:32:59] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1647360 seconds
[12-01 21:32:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"GET","request_id":"req-000082","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 21:32:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000083","url":"/messages/7416185797688197120"}
[12-01 21:32:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000084","url":"/messages/7416185797688197120"}
[12-01 21:32:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:32:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:32:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":64,"event":"response_sent","method":"GET","request_id":"req-000083","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:32:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":64,"event":"response_sent","method":"GET","request_id":"req-000084","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:32:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000085","url":"/ws"}
[12-01 21:32:59] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 21:32:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 21:32:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 21:32:59] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 21:33:17] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000086","url":"/auth/me"}
[12-01 21:37:04] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 21:37:04] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":14,"event":"response_sent","method":"GET","request_id":"req-000086","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 21:37:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000087","url":"/chats"}
[12-01 21:37:04] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 21:37:04] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 21:37:04] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:37:04] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 21:37:04] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:37:04] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1633763 seconds
[12-01 21:37:04] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000087","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 21:37:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000088","url":"/messages/7416185797688197120"}
[12-01 21:37:04] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:37:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000089","url":"/messages/7416185797688197120"}
[12-01 21:37:04] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:37:04] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000089","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:37:04] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000088","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:37:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000090","url":"/ws"}
[12-01 21:37:04] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 21:37:04] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 21:37:04] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 21:37:04] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:37:53] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[12-01 21:45:44] [info] [] Logger initialized for service 'Gateway'
[12-01 21:45:44] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[12-01 21:45:44] [info] [] Read 451 bytes
[12-01 21:45:44] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[12-01 21:45:44] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[12-01 21:45:44] [info] [GatewayServer::run] Starting API Gateway on port 8084
[12-01 21:45:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[12-01 21:45:47] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 21:45:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":45,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 21:45:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[12-01 21:45:47] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 21:45:47] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 21:45:47] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:45:47] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 21:45:47] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:45:47] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 21:45:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 21:45:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416185797688197120"}
[12-01 21:45:47] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:45:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416185797688197120"}
[12-01 21:45:47] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:45:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[12-01 21:45:47] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 21:45:47] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 21:45:47] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 21:45:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:45:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:45:47] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 21:58:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/auth/me"}
[12-01 21:58:00] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 21:58:00] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":55,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 21:58:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/chats"}
[12-01 21:58:01] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 21:58:01] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 21:58:01] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:58:01] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 21:58:01] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 21:58:01] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":68,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 21:58:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/messages/7416185797688197120"}
[12-01 21:58:01] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:58:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/messages/7416185797688197120"}
[12-01 21:58:01] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 21:58:01] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:58:01] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 21:58:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/ws"}
[12-01 21:58:01] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 21:58:01] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 21:58:01] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 21:58:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 22:09:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/auth/me"}
[12-01 22:09:53] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 22:09:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000010","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 22:09:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/chats"}
[12-01 22:09:53] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 22:09:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 22:09:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 22:09:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 22:09:53] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1577320 seconds
[12-01 22:09:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":68,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 22:09:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/messages/7416185797688197120"}
[12-01 22:09:53] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 22:09:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/messages/7416185797688197120"}
[12-01 22:09:53] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 22:09:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 22:09:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":50,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 22:09:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/ws"}
[12-01 22:09:53] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 22:09:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 22:09:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 22:09:53] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:10:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000015","url":"/auth/me"}
[12-01 23:10:32] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:10:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":62,"event":"response_sent","method":"GET","request_id":"req-000015","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:10:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000016","url":"/chats"}
[12-01 23:10:32] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:10:32] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:10:32] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:10:32] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 23:10:32] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:10:32] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 203578 seconds
[12-01 23:10:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000016","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:10:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/messages/7416185797688197120"}
[12-01 23:10:32] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:10:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/messages/7416185797688197120"}
[12-01 23:10:32] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:10:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000018","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:10:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:10:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/ws"}
[12-01 23:10:32] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:10:32] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:10:32] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:10:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:21:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/auth/me"}
[12-01 23:21:00] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:21:00] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":53,"event":"response_sent","method":"GET","request_id":"req-000020","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:21:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/chats"}
[12-01 23:21:00] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:21:00] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:21:00] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:21:00] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 23:21:00] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:21:00] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 23:21:00] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:21:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/messages/7416185797688197120"}
[12-01 23:21:00] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:21:00] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/messages/7416185797688197120"}
[12-01 23:21:00] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:21:00] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":44,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:21:00] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":45,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:21:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/ws"}
[12-01 23:21:01] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:21:01] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:21:01] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:21:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:38:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/auth/me"}
[12-01 23:38:50] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:38:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":58,"event":"response_sent","method":"GET","request_id":"req-000025","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:38:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000026","url":"/chats"}
[12-01 23:38:51] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:38:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:38:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:38:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:38:51] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1134948 seconds
[12-01 23:38:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":50,"event":"response_sent","method":"GET","request_id":"req-000026","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:38:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/messages/7416185797688197120"}
[12-01 23:38:51] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:38:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/messages/7416185797688197120"}
[12-01 23:38:51] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:38:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":37,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:38:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:38:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000029","url":"/ws"}
[12-01 23:38:51] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:38:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:38:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:38:51] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:49:25] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/auth/me"}
[12-01 23:49:25] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:49:25] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":74,"event":"response_sent","method":"GET","request_id":"req-000030","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:49:25] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/chats"}
[12-01 23:49:25] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:49:25] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:49:25] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:49:25] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 23:49:25] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:49:25] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1271906 seconds
[12-01 23:49:25] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:49:25] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/messages/7416185797688197120"}
[12-01 23:49:25] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:49:25] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/messages/7416185797688197120"}
[12-01 23:49:25] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:49:25] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":44,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:49:25] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":44,"event":"response_sent","method":"GET","request_id":"req-000032","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:49:25] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/ws"}
[12-01 23:49:25] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:49:25] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:49:25] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:49:25] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:56:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000035","url":"/auth/me"}
[12-01 23:56:35] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:56:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":53,"event":"response_sent","method":"GET","request_id":"req-000035","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:56:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/chats"}
[12-01 23:56:36] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:56:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:56:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:56:36] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 23:56:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:56:36] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[12-01 23:56:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:56:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000037","url":"/messages/7416185797688197120"}
[12-01 23:56:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:56:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/messages/7416185797688197120"}
[12-01 23:56:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:56:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":42,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:56:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":42,"event":"response_sent","method":"GET","request_id":"req-000037","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:56:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/ws"}
[12-01 23:56:36] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:56:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:56:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:56:36] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[12-01 23:59:47] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/auth/me"}
[12-01 23:59:47] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[12-01 23:59:47] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":40,"event":"response_sent","method":"GET","request_id":"req-000040","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[12-01 23:59:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/chats"}
[12-01 23:59:48] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[12-01 23:59:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[12-01 23:59:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:59:48] [info] [CacheMiddleware::before_handle] Hit cache
[12-01 23:59:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[12-01 23:59:48] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 249561 seconds
[12-01 23:59:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000041","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[12-01 23:59:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/messages/7416185797688197120"}
[12-01 23:59:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:59:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/messages/7416185797688197120"}
[12-01 23:59:48] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[12-01 23:59:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":44,"event":"response_sent","method":"GET","request_id":"req-000042","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:59:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":45,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[12-01 23:59:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/ws"}
[12-01 23:59:48] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[12-01 23:59:48] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[12-01 23:59:48] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[12-01 23:59:48] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 00:00:06] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 00:15:29] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/auth/me"}
[13-01 00:15:29] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 00:15:29] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":43,"event":"response_sent","method":"GET","request_id":"req-000045","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 00:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/chats"}
[13-01 00:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 00:15:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 00:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:15:30] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 00:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:15:30] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 672302 seconds
[13-01 00:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 00:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/messages/7416185797688197120"}
[13-01 00:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/messages/7416185797688197120"}
[13-01 00:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000047","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/ws"}
[13-01 00:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 00:15:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 00:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 00:15:30] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 00:15:37] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 00:16:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/auth/me"}
[13-01 00:16:56] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 00:16:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000050","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 00:16:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/chats"}
[13-01 00:16:56] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 00:16:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 00:16:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:16:56] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 00:16:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:16:56] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 86526 seconds
[13-01 00:16:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 00:16:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/messages/7416185797688197120"}
[13-01 00:16:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:16:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000053","url":"/messages/7416185797688197120"}
[13-01 00:16:56] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:16:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000052","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:16:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000053","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:16:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/ws"}
[13-01 00:16:56] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 00:16:56] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 00:16:56] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 00:16:56] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 00:17:06] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 00:23:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/auth/me"}
[13-01 00:23:23] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 00:23:23] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":63,"event":"response_sent","method":"GET","request_id":"req-000055","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 00:23:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/chats"}
[13-01 00:23:23] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 00:23:23] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 00:23:23] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:23:24] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 00:23:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:23:24] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[13-01 00:23:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 00:23:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/messages/7416185797688197120"}
[13-01 00:23:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:23:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000058","url":"/messages/7416185797688197120"}
[13-01 00:23:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:23:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":42,"event":"response_sent","method":"GET","request_id":"req-000057","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:23:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":42,"event":"response_sent","method":"GET","request_id":"req-000058","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:23:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000059","url":"/ws"}
[13-01 00:23:24] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 00:23:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 00:23:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 00:23:24] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 00:23:35] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 00:23:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000060","url":"/auth/me"}
[13-01 00:23:37] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 00:23:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000060","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 00:23:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000061","url":"/chats"}
[13-01 00:23:37] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 00:23:37] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 00:23:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:23:37] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 00:23:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 00:23:37] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[13-01 00:23:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000061","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 00:23:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000062","url":"/messages/7416185797688197120"}
[13-01 00:23:37] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:23:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000063","url":"/messages/7416185797688197120"}
[13-01 00:23:37] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 00:23:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000062","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:23:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000063","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 00:23:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000064","url":"/ws"}
[13-01 00:23:37] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 00:23:37] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 00:23:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 00:23:37] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 00:23:47] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 01:12:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000065","url":"/auth/me"}
[13-01 01:12:23] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 01:12:23] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000065","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 01:12:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000066","url":"/chats"}
[13-01 01:12:24] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 01:12:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 01:12:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:12:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:12:24] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[13-01 01:12:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":70,"event":"response_sent","method":"GET","request_id":"req-000066","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 01:12:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000068","url":"/messages/7416185797688197120"}
[13-01 01:12:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000067","url":"/messages/7416185797688197120"}
[13-01 01:12:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:12:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:12:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":41,"event":"response_sent","method":"GET","request_id":"req-000068","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:12:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":42,"event":"response_sent","method":"GET","request_id":"req-000067","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:12:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000069","url":"/ws"}
[13-01 01:12:24] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 01:12:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 01:12:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 01:12:24] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 01:12:40] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 01:13:23] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000070","url":"/auth/me"}
[13-01 01:13:23] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 01:13:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":62,"event":"response_sent","method":"GET","request_id":"req-000070","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 01:13:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000071","url":"/chats"}
[13-01 01:13:24] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 01:13:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 01:13:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:13:24] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 01:13:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:13:24] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1512639 seconds
[13-01 01:13:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000071","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 01:13:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000072","url":"/messages/7416185797688197120"}
[13-01 01:13:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:13:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000073","url":"/messages/7416185797688197120"}
[13-01 01:13:24] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:13:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":52,"event":"response_sent","method":"GET","request_id":"req-000072","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:13:24] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000073","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:13:24] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000074","url":"/ws"}
[13-01 01:13:24] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 01:13:24] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 01:13:24] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 01:13:24] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 01:18:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000075","url":"/auth/me"}
[13-01 01:18:50] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 01:18:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000075","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 01:18:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000076","url":"/chats"}
[13-01 01:18:51] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 01:18:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 01:18:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:18:51] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 01:18:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:18:51] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 1065947 seconds
[13-01 01:18:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000076","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 01:18:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000077","url":"/messages/7416185797688197120"}
[13-01 01:18:51] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:18:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000078","url":"/messages/7416185797688197120"}
[13-01 01:18:51] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:18:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000077","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:18:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000078","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:18:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000079","url":"/ws"}
[13-01 01:18:51] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 01:18:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 01:18:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 01:18:51] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 01:21:05] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000080","url":"/auth/me"}
[13-01 01:21:05] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 01:21:05] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":67,"event":"response_sent","method":"GET","request_id":"req-000080","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 01:21:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000081","url":"/chats"}
[13-01 01:21:06] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 01:21:06] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 01:21:06] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:21:06] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 01:21:06] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 01:21:06] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roman5name","id":7416183787446353920,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416185797688197120}]} for 300 seconds
[13-01 01:21:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000081","responce":"{\"chats\":[{\"user\":{\"name\":\"roman5name\",\"id\":7416183787446353920,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416185797688197120}]}","status_code":200,"url":"/chats"}
[13-01 01:21:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000082","url":"/messages/7416185797688197120"}
[13-01 01:21:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:21:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000083","url":"/messages/7416185797688197120"}
[13-01 01:21:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416185797688197120
[13-01 01:21:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000083","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:21:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000082","responce":"[{\"readed_by_me\":true,\"local_id\":\"{086972bf-10f8-493a-9f1e-7ef1b940f74f}\",\"timestamp\":1768220853,\"text\":\"12\",\"chat_id\":7416185797688197120,\"sender_id\":7416184085095137280,\"id\":7416455798789816320}]","status_code":200,"url":"/messages/7416185797688197120"}
[13-01 01:21:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000084","url":"/ws"}
[13-01 01:21:06] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 01:21:06] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 01:21:06] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 01:21:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 01:21:13] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:30:44] [info] [] Logger initialized for service 'Gateway'
[13-01 18:30:44] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 18:30:44] [info] [] Read 451 bytes
[13-01 18:30:44] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 18:30:44] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 18:30:44] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 18:32:48] [info] [] Logger initialized for service 'Gateway'
[13-01 18:32:48] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 18:32:48] [info] [] Read 451 bytes
[13-01 18:32:48] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 18:32:48] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 18:32:48] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 18:32:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[13-01 18:32:50] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 18:32:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":83,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roman6\",\"name\":\"roman6name\",\"email\":\"roman6@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416184085095137280},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM1MTYwNzIsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTYxODQwODUwOTUxMzcyODAifQ.KR_BtkMUCSEYVEgaBTg1suWJyG31ieAOWdoi5bQ_o1ZD6x2xPFuNeZS2C16GC9Yp5wQaCs0Jh7KNwKoKXfER779QfBQwmk72WosupOGK5h-XAX3s7C8rj06tVfN9MK9wvQ46pvzCrYIBqxbK44OIk4jth6JfPs11a3e4ZRk64uyW3A_PtOb4iaCb9XOO05VqKKiQSH5OcHUuH2OFQ6LnqHXxByuyyzfCkMaLS_b2EiLuPcas-QRg9zRwqC8QVInricYtk9NwBtsU80dfuSfr-rb6vNF9Sg8z-0sUkYhLVeuo_-707sj0MVXE_HJdykxDTdsK5q6hPg8ZXZrucCtwdA\"}","status_code":200,"url":"/auth/me"}
[13-01 18:32:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[13-01 18:32:51] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:32:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:32:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:32:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:32:51] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[13-01 18:32:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":124,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[13-01 18:32:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/ws"}
[13-01 18:32:51] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:32:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:32:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:32:51] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:32:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/users/search"}
[13-01 18:32:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:32:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=R 
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=R 
[13-01 18:32:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=R - {"users":[]} for 300 seconds
[13-01 18:32:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":22,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:32:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/users/search"}
[13-01 18:32:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:32:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=RO 
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=RO 
[13-01 18:32:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=RO - {"users":[]} for 346676 seconds
[13-01 18:32:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000004","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:32:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/users/search"}
[13-01 18:32:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:32:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROM 
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROM 
[13-01 18:32:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ROM - {"users":[]} for 300 seconds
[13-01 18:32:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:32:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/users/search"}
[13-01 18:32:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:32:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROMA 
[13-01 18:32:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROMA 
[13-01 18:32:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ROMA - {"users":[]} for 397091 seconds
[13-01 18:32:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:09] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/users/search"}
[13-01 18:33:09] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:09] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:09] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROM 
[13-01 18:33:09] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:09] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ROM 
[13-01 18:33:09] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ROM - {"users":[]} for 279518 seconds
[13-01 18:33:09] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":9,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:09] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/users/search"}
[13-01 18:33:09] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:09] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:09] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=RO 
[13-01 18:33:09] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:09] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=RO 
[13-01 18:33:09] [info] [RedisCache::set] Set cache:GET:/users/search|tag=RO - {"users":[]} for 1640141 seconds
[13-01 18:33:09] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:10] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/users/search"}
[13-01 18:33:10] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:10] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:10] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=R 
[13-01 18:33:10] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:10] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=R 
[13-01 18:33:10] [info] [RedisCache::set] Set cache:GET:/users/search|tag=R - {"users":[]} for 300 seconds
[13-01 18:33:10] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000009","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/users/search"}
[13-01 18:33:11] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:11] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:33:11] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 300 seconds
[13-01 18:33:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":12,"event":"response_sent","method":"GET","request_id":"req-000010","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/users/search"}
[13-01 18:33:11] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:11] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:33:11] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:33:11] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 1430548 seconds
[13-01 18:33:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/users/search"}
[13-01 18:33:11] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:11] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:33:11] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[13-01 18:33:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/users/search"}
[13-01 18:33:11] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:11] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:11] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:11] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[13-01 18:33:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/users/search"}
[13-01 18:33:12] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma5 
[13-01 18:33:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma5 
[13-01 18:33:12] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma5 - {"users":[]} for 300 seconds
[13-01 18:33:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000014","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:15] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:33:34] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000015","url":"/auth/register"}
[13-01 18:33:34] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/register
[13-01 18:33:34] [info] [RedisCache::set] Set request:3050890F-0C63-400D-BA3A-DCB30A2E42CE - { "status": "queued" } for 282708 seconds
[13-01 18:33:34] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"email\": \"roma7@gmail.com\",\n    \"name\": \"roma7name\",\n    \"password\": \"12345678\",\n    \"tag\": \"roma7\"\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["content-length","108"],["host","localhost:8084"]],"method":"POST","path":"/auth/register","port":8083,"request_id":"3050890F-0C63-400D-BA3A-DCB30A2E42CE","url_params":{}}
[13-01 18:33:34] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = 3050890F-0C63-400D-BA3A-DCB30A2E42CE, status_code = 200, body = {"user":{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIwMTQsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODAwOTkwMjgzODU3OTIifQ.RUKMcPIFrOb4zAVv5Vctp_gba4VFQNlA0xOUT7sRmq54tmz3yoyMHViNY0k0KMKDexI9W2satb0FTtiRrPFvIpd_RACfrqyEvNCnJalOVWllODGEnXh_JPiaAjarmqwpBVR3xazhimxFeVbpogQ56ROQz9leIFYUUnaDwoo0fWeU_E3kpZHnnQV0npNy5L8s352J0YpHARFu_CceVjhb0onNKGC7SHKUt7_LEeCDTg00dC57bjmvtEscvTPH2RdJELdYzk6rKhyK74rvzrG8EllRV-Ur_A3WjW4aci2GfT3H6mZ3YaTkgkAbCKTqkXFI2yzm3DyCpVfekEI_Lg-d_Q"}
[13-01 18:33:34] [info] [RedisCache::set] Set request:3050890F-0C63-400D-BA3A-DCB30A2E42CE - {"status":"finished"} for 1522266 seconds
[13-01 18:33:34] [info] [RedisCache::set] Set request_id:3050890F-0C63-400D-BA3A-DCB30A2E42CE - 200 for 300 seconds
[13-01 18:33:34] [info] [RedisCache::set] Set request_body:3050890F-0C63-400D-BA3A-DCB30A2E42CE - {"user":{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIwMTQsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODAwOTkwMjgzODU3OTIifQ.RUKMcPIFrOb4zAVv5Vctp_gba4VFQNlA0xOUT7sRmq54tmz3yoyMHViNY0k0KMKDexI9W2satb0FTtiRrPFvIpd_RACfrqyEvNCnJalOVWllODGEnXh_JPiaAjarmqwpBVR3xazhimxFeVbpogQ56ROQz9leIFYUUnaDwoo0fWeU_E3kpZHnnQV0npNy5L8s352J0YpHARFu_CceVjhb0onNKGC7SHKUt7_LEeCDTg00dC57bjmvtEscvTPH2RdJELdYzk6rKhyK74rvzrG8EllRV-Ur_A3WjW4aci2GfT3H6mZ3YaTkgkAbCKTqkXFI2yzm3DyCpVfekEI_Lg-d_Q","status":"finished"} for 300 seconds
[13-01 18:33:34] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":169,"event":"response_sent","method":"POST","request_id":"req-000015","responce":"{\"request_id\":\"3050890F-0C63-400D-BA3A-DCB30A2E42CE\",\"status\":\"queued\"}","status_code":202,"url":"/auth/register"}
[13-01 18:33:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000016","url":"/request/3050890F-0C63-400D-BA3A-DCB30A2E42CE/status"}
[13-01 18:33:35] [info] [AuthMiddleware::needToAuth] Check to auth url /request/3050890F-0C63-400D-BA3A-DCB30A2E42CE/status
[13-01 18:33:35] [info] [GatewayServer::registerRequestRoute] Request id = 3050890F-0C63-400D-BA3A-DCB30A2E42CE
[13-01 18:33:35] [info] [GatewayServer::registerRequestRoute] Status found, return {"user":{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIwMTQsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODAwOTkwMjgzODU3OTIifQ.RUKMcPIFrOb4zAVv5Vctp_gba4VFQNlA0xOUT7sRmq54tmz3yoyMHViNY0k0KMKDexI9W2satb0FTtiRrPFvIpd_RACfrqyEvNCnJalOVWllODGEnXh_JPiaAjarmqwpBVR3xazhimxFeVbpogQ56ROQz9leIFYUUnaDwoo0fWeU_E3kpZHnnQV0npNy5L8s352J0YpHARFu_CceVjhb0onNKGC7SHKUt7_LEeCDTg00dC57bjmvtEscvTPH2RdJELdYzk6rKhyK74rvzrG8EllRV-Ur_A3WjW4aci2GfT3H6mZ3YaTkgkAbCKTqkXFI2yzm3DyCpVfekEI_Lg-d_Q","status":"finished"}
[13-01 18:33:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000016","responce":"{\"user\":{\"tag\":\"roma7\",\"name\":\"roma7name\",\"email\":\"roma7@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880099028385792},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIwMTQsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODAwOTkwMjgzODU3OTIifQ.RUKMcPIFrOb4zAVv5Vctp_gba4VFQNlA0xOUT7sRmq54tmz3yoyMHViNY0k0KMKDexI9W2satb0FTtiRrPFvIpd_RACfrqyEvNCnJalOVWllODGEnXh_JPiaAjarmqwpBVR3xazhimxFeVbpogQ56ROQz9leIFYUUnaDwoo0fWeU_E3kpZHnnQV0npNy5L8s352J0YpHARFu_CceVjhb0onNKGC7SHKUt7_LEeCDTg00dC57bjmvtEscvTPH2RdJELdYzk6rKhyK74rvzrG8EllRV-Ur_A3WjW4aci2GfT3H6mZ3YaTkgkAbCKTqkXFI2yzm3DyCpVfekEI_Lg-d_Q\",\"status\":\"finished\"}","status_code":200,"url":"/request/3050890F-0C63-400D-BA3A-DCB30A2E42CE/status"}
[13-01 18:33:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/chats"}
[13-01 18:33:35] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:33:35] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:33:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:33:35] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:33:35] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[13-01 18:33:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[13-01 18:33:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/ws"}
[13-01 18:33:35] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:33:35] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:33:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:33:35] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:33:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/users/search"}
[13-01 18:33:36] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:36] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:36] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 1582580 seconds
[13-01 18:33:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000019","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/users/search"}
[13-01 18:33:37] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:37] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:37] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:37] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma6 - {"users":[]} for 1139860 seconds
[13-01 18:33:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000020","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/users/search"}
[13-01 18:33:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:38] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 645610 seconds
[13-01 18:33:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/users/search"}
[13-01 18:33:38] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma5 
[13-01 18:33:38] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma5 
[13-01 18:33:38] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma5 - {"users":[]} for 1451639 seconds
[13-01 18:33:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/users/search"}
[13-01 18:33:50] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:50] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:50] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:50] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:50] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:50] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 176821 seconds
[13-01 18:33:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:51] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/users/search"}
[13-01 18:33:51] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:51] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:51] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:51] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:51] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma6 - {"users":[]} for 300 seconds
[13-01 18:33:51] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000024","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/users/search"}
[13-01 18:33:52] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:52] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:52] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:52] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[13-01 18:33:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000025","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000026","url":"/users/search"}
[13-01 18:33:52] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:52] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:33:52] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:33:52] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 300 seconds
[13-01 18:33:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000026","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/users/search"}
[13-01 18:33:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:53] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:33:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[13-01 18:33:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:33:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/users/search"}
[13-01 18:33:53] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:33:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:33:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:53] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:33:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:33:53] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma6 - {"users":[]} for 1673357 seconds
[13-01 18:33:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:36:00] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:36:16] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000029","url":"/auth/register"}
[13-01 18:36:16] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/register
[13-01 18:36:16] [info] [RedisCache::set] Set request:BA5D1BC6-D498-4BEC-AF17-9C319FCCC947 - { "status": "queued" } for 796378 seconds
[13-01 18:36:16] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"email\": \"roma8@gmail.com\",\n    \"name\": \"roma8name\",\n    \"password\": \"12345678\",\n    \"tag\": \"roma8\"\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["content-length","108"],["host","localhost:8084"]],"method":"POST","path":"/auth/register","port":8083,"request_id":"BA5D1BC6-D498-4BEC-AF17-9C319FCCC947","url_params":{}}
[13-01 18:36:16] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = BA5D1BC6-D498-4BEC-AF17-9C319FCCC947, status_code = 200, body = {"user":{"tag":"roma8","name":"roma8name","email":"roma8@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880777901654016},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ"}
[13-01 18:36:16] [info] [RedisCache::set] Set request:BA5D1BC6-D498-4BEC-AF17-9C319FCCC947 - {"status":"finished"} for 300 seconds
[13-01 18:36:16] [info] [RedisCache::set] Set request_id:BA5D1BC6-D498-4BEC-AF17-9C319FCCC947 - 200 for 1553297 seconds
[13-01 18:36:16] [info] [RedisCache::set] Set request_body:BA5D1BC6-D498-4BEC-AF17-9C319FCCC947 - {"user":{"tag":"roma8","name":"roma8name","email":"roma8@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880777901654016},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ","status":"finished"} for 300 seconds
[13-01 18:36:16] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":167,"event":"response_sent","method":"POST","request_id":"req-000029","responce":"{\"request_id\":\"BA5D1BC6-D498-4BEC-AF17-9C319FCCC947\",\"status\":\"queued\"}","status_code":202,"url":"/auth/register"}
[13-01 18:36:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/request/BA5D1BC6-D498-4BEC-AF17-9C319FCCC947/status"}
[13-01 18:36:17] [info] [AuthMiddleware::needToAuth] Check to auth url /request/BA5D1BC6-D498-4BEC-AF17-9C319FCCC947/status
[13-01 18:36:17] [info] [GatewayServer::registerRequestRoute] Request id = BA5D1BC6-D498-4BEC-AF17-9C319FCCC947
[13-01 18:36:17] [info] [GatewayServer::registerRequestRoute] Status found, return {"user":{"tag":"roma8","name":"roma8name","email":"roma8@gmail.com","avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880777901654016},"token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ","status":"finished"}
[13-01 18:36:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000030","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\",\"status\":\"finished\"}","status_code":200,"url":"/request/BA5D1BC6-D498-4BEC-AF17-9C319FCCC947/status"}
[13-01 18:36:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/chats"}
[13-01 18:36:17] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:36:17] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:36:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:36:17] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:36:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:36:17] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 551619 seconds
[13-01 18:36:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[13-01 18:36:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/ws"}
[13-01 18:36:17] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:36:17] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:36:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:36:17] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:36:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/users/search"}
[13-01 18:36:17] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:36:17] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:36:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:36:17] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:36:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:36:17] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[13-01 18:36:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:36:18] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/users/search"}
[13-01 18:36:18] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:36:18] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:36:18] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:36:18] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:36:18] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma7 - {"users":[{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"","id":7416880099028385792}]} for 300 seconds
[13-01 18:36:18] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":16,"event":"response_sent","method":"GET","request_id":"req-000034","responce":"{\"users\":[{\"tag\":\"roma7\",\"name\":\"roma7name\",\"email\":\"roma7@gmail.com\",\"avatar\":\"\",\"id\":7416880099028385792}]}","status_code":200,"url":"/users/search"}
[13-01 18:36:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000035","url":"/chats/private"}
[13-01 18:36:19] [info] [AuthMiddleware::needToAuth] Check to auth url /chats/private
[13-01 18:36:19] [info] [RedisCache::set] Set request:E197DD78-D900-408A-A83F-1E3E50600FC9 - { "status": "queued" } for 659062 seconds
[13-01 18:36:19] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"user_id\": 7416880099028385792\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-length","39"],["authorization","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["host","localhost:8084"]],"method":"POST","path":"/chats/private","port":8081,"request_id":"E197DD78-D900-408A-A83F-1E3E50600FC9","url_params":{}}
[13-01 18:36:20] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = E197DD78-D900-408A-A83F-1E3E50600FC9, status_code = 200, body = {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"}}
[13-01 18:36:20] [info] [RedisCache::set] Set request:E197DD78-D900-408A-A83F-1E3E50600FC9 - {"status":"finished"} for 1371871 seconds
[13-01 18:36:20] [info] [RedisCache::set] Set request_id:E197DD78-D900-408A-A83F-1E3E50600FC9 - 200 for 300 seconds
[13-01 18:36:20] [info] [RedisCache::set] Set request_body:E197DD78-D900-408A-A83F-1E3E50600FC9 - {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"} for 569310 seconds
[13-01 18:36:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":67,"event":"response_sent","method":"POST","request_id":"req-000035","responce":"{\"request_id\":\"E197DD78-D900-408A-A83F-1E3E50600FC9\",\"status\":\"queued\"}","status_code":202,"url":"/chats/private"}
[13-01 18:36:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/request/E197DD78-D900-408A-A83F-1E3E50600FC9/status"}
[13-01 18:36:20] [info] [AuthMiddleware::needToAuth] Check to auth url /request/E197DD78-D900-408A-A83F-1E3E50600FC9/status
[13-01 18:36:20] [info] [GatewayServer::registerRequestRoute] Request id = E197DD78-D900-408A-A83F-1E3E50600FC9
[13-01 18:36:20] [info] [GatewayServer::registerRequestRoute] Status found, return {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"}
[13-01 18:36:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"id\":7416880792917278720,\"type\":\"private\",\"user\":{\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880099028385792,\"name\":\"roma7name\"},\"status\":\"finished\"}","status_code":200,"url":"/request/E197DD78-D900-408A-A83F-1E3E50600FC9/status"}
[13-01 18:36:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000037","url":"/messages/7416880792917278720"}
[13-01 18:36:20] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:36:20] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/messages/7416880792917278720"}
[13-01 18:36:20] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:36:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":63,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:36:20] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":65,"event":"response_sent","method":"GET","request_id":"req-000037","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:44:07] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:44:09] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:44:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/auth/me"}
[13-01 18:44:11] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 18:44:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":66,"event":"response_sent","method":"GET","request_id":"req-000039","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 18:44:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/chats"}
[13-01 18:44:12] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:44:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:44:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:44:12] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:44:12] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[13-01 18:44:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000040","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[13-01 18:44:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/ws"}
[13-01 18:44:12] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:44:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:44:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:44:12] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:44:13] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/users/search"}
[13-01 18:44:13] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:13] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:13] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:44:13] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:44:13] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 260936 seconds
[13-01 18:44:13] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000042","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:13] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/users/search"}
[13-01 18:44:13] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:13] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:13] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:44:13] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:13] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:44:13] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 300 seconds
[13-01 18:44:13] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:14] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/users/search"}
[13-01 18:44:14] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:14] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:44:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:44:14] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 104051 seconds
[13-01 18:44:14] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000044","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:14] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/users/search"}
[13-01 18:44:14] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:14] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:14] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 442614 seconds
[13-01 18:44:14] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000045","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/users/search"}
[13-01 18:44:15] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:15] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:15] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:44:15] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:15] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma6 
[13-01 18:44:15] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma6 - {"users":[]} for 1442798 seconds
[13-01 18:44:15] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/users/search"}
[13-01 18:44:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:28] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 423173 seconds
[13-01 18:44:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000047","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:28] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/users/search"}
[13-01 18:44:28] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:28] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[13-01 18:44:28] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[13-01 18:44:28] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 300 seconds
[13-01 18:44:28] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":17,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:29] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/users/search"}
[13-01 18:44:29] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:29] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman6 
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman6 
[13-01 18:44:29] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman6 - {"users":[]} for 300 seconds
[13-01 18:44:29] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000049","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:29] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/users/search"}
[13-01 18:44:29] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:29] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[13-01 18:44:29] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roman 
[13-01 18:44:29] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roman - {"users":[]} for 1281070 seconds
[13-01 18:44:29] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000050","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:29] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/users/search"}
[13-01 18:44:29] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:29] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:29] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:44:29] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:44:29] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 818465 seconds
[13-01 18:44:29] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:44:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/users/search"}
[13-01 18:44:30] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:44:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:44:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:44:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:44:30] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma7 - {"users":[{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"","id":7416880099028385792}]} for 1474566 seconds
[13-01 18:44:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000052","responce":"{\"users\":[{\"tag\":\"roma7\",\"name\":\"roma7name\",\"email\":\"roma7@gmail.com\",\"avatar\":\"\",\"id\":7416880099028385792}]}","status_code":200,"url":"/users/search"}
[13-01 18:44:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000053","url":"/chats/private"}
[13-01 18:44:32] [info] [AuthMiddleware::needToAuth] Check to auth url /chats/private
[13-01 18:44:32] [info] [RedisCache::set] Set request:A49B0887-C642-4B16-AF47-A840F7F34D82 - { "status": "queued" } for 437613 seconds
[13-01 18:44:32] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"user_id\": 7416880099028385792\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-length","39"],["authorization","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["host","localhost:8084"]],"method":"POST","path":"/chats/private","port":8081,"request_id":"A49B0887-C642-4B16-AF47-A840F7F34D82","url_params":{}}
[13-01 18:44:32] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = A49B0887-C642-4B16-AF47-A840F7F34D82, status_code = 200, body = {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"}}
[13-01 18:44:32] [info] [RedisCache::set] Set request:A49B0887-C642-4B16-AF47-A840F7F34D82 - {"status":"finished"} for 174394 seconds
[13-01 18:44:32] [info] [RedisCache::set] Set request_id:A49B0887-C642-4B16-AF47-A840F7F34D82 - 200 for 40905 seconds
[13-01 18:44:32] [info] [RedisCache::set] Set request_body:A49B0887-C642-4B16-AF47-A840F7F34D82 - {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"} for 127246 seconds
[13-01 18:44:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":85,"event":"response_sent","method":"POST","request_id":"req-000053","responce":"{\"request_id\":\"A49B0887-C642-4B16-AF47-A840F7F34D82\",\"status\":\"queued\"}","status_code":202,"url":"/chats/private"}
[13-01 18:44:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/request/A49B0887-C642-4B16-AF47-A840F7F34D82/status"}
[13-01 18:44:33] [info] [AuthMiddleware::needToAuth] Check to auth url /request/A49B0887-C642-4B16-AF47-A840F7F34D82/status
[13-01 18:44:33] [info] [GatewayServer::registerRequestRoute] Request id = A49B0887-C642-4B16-AF47-A840F7F34D82
[13-01 18:44:33] [info] [GatewayServer::registerRequestRoute] Status found, return {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"}
[13-01 18:44:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000054","responce":"{\"id\":7416880792917278720,\"type\":\"private\",\"user\":{\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880099028385792,\"name\":\"roma7name\"},\"status\":\"finished\"}","status_code":200,"url":"/request/A49B0887-C642-4B16-AF47-A840F7F34D82/status"}
[13-01 18:44:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/messages/7416880792917278720"}
[13-01 18:44:33] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:44:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/messages/7416880792917278720"}
[13-01 18:44:33] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:44:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:44:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":56,"event":"response_sent","method":"GET","request_id":"req-000055","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:46:48] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:46:48] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:46:50] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:46:50] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:47:01] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/auth/me"}
[13-01 18:47:01] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 18:47:01] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":44,"event":"response_sent","method":"GET","request_id":"req-000057","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 18:47:02] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000058","url":"/chats"}
[13-01 18:47:02] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:47:02] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:47:02] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:47:02] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:02] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:47:02] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[]} for 300 seconds
[13-01 18:47:02] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000058","responce":"{\"chats\":[]}","status_code":200,"url":"/chats"}
[13-01 18:47:02] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000059","url":"/ws"}
[13-01 18:47:02] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:47:02] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:47:02] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:47:02] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:47:03] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000060","url":"/users/search"}
[13-01 18:47:03] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=r 
[13-01 18:47:03] [info] [RedisCache::set] Set cache:GET:/users/search|tag=r - {"users":[]} for 593244 seconds
[13-01 18:47:03] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000060","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:47:03] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000061","url":"/users/search"}
[13-01 18:47:03] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=ro 
[13-01 18:47:03] [info] [RedisCache::set] Set cache:GET:/users/search|tag=ro - {"users":[]} for 300 seconds
[13-01 18:47:03] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000061","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:47:03] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000062","url":"/users/search"}
[13-01 18:47:03] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=rom 
[13-01 18:47:03] [info] [RedisCache::set] Set cache:GET:/users/search|tag=rom - {"users":[]} for 850064 seconds
[13-01 18:47:03] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000062","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:47:03] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000063","url":"/users/search"}
[13-01 18:47:03] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:47:03] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:03] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma 
[13-01 18:47:03] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma - {"users":[]} for 300 seconds
[13-01 18:47:03] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000063","responce":"{\"users\":[]}","status_code":200,"url":"/users/search"}
[13-01 18:47:04] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000064","url":"/users/search"}
[13-01 18:47:04] [info] [AuthMiddleware::needToAuth] Check to auth url /users/search
[13-01 18:47:04] [info] [CacheMiddleware::before_handle] Url before_handle cache: /users/search
[13-01 18:47:04] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:47:04] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:47:04] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /users/search : cache:GET:/users/search|tag=roma7 
[13-01 18:47:04] [info] [RedisCache::set] Set cache:GET:/users/search|tag=roma7 - {"users":[{"tag":"roma7","name":"roma7name","email":"roma7@gmail.com","avatar":"","id":7416880099028385792}]} for 1495025 seconds
[13-01 18:47:04] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000064","responce":"{\"users\":[{\"tag\":\"roma7\",\"name\":\"roma7name\",\"email\":\"roma7@gmail.com\",\"avatar\":\"\",\"id\":7416880099028385792}]}","status_code":200,"url":"/users/search"}
[13-01 18:47:05] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"POST","request_id":"req-000065","url":"/chats/private"}
[13-01 18:47:05] [info] [AuthMiddleware::needToAuth] Check to auth url /chats/private
[13-01 18:47:05] [info] [RedisCache::set] Set request:CBA673E2-4A23-4084-B76D-7C1608678E06 - { "status": "queued" } for 1148970 seconds
[13-01 18:47:05] [info] [GatewayServer::subscribeOnNewRequest] I in subscribe with event send_request and payload {"body":"{\n    \"user_id\": 7416880099028385792\n}\n","content_type":"application/json","headers":[["accept-language","uk-UA,en,*"],["connection","Keep-Alive"],["user-agent","Mozilla/5.0"],["content-length","39"],["authorization","eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ"],["content-type","application/json"],["accept-encoding","zstd, br, gzip, deflate"],["host","localhost:8084"]],"method":"POST","path":"/chats/private","port":8081,"request_id":"CBA673E2-4A23-4084-B76D-7C1608678E06","url_params":{}}
[13-01 18:47:05] [info] [GatewayServer::subscribeOnNewRequest] Finished result in queue_->subscribe, request_info->request_id = CBA673E2-4A23-4084-B76D-7C1608678E06, status_code = 200, body = {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"}}
[13-01 18:47:05] [info] [RedisCache::set] Set request:CBA673E2-4A23-4084-B76D-7C1608678E06 - {"status":"finished"} for 1715226 seconds
[13-01 18:47:05] [info] [RedisCache::set] Set request_id:CBA673E2-4A23-4084-B76D-7C1608678E06 - 200 for 299130 seconds
[13-01 18:47:05] [info] [RedisCache::set] Set request_body:CBA673E2-4A23-4084-B76D-7C1608678E06 - {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"} for 300 seconds
[13-01 18:47:05] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"POST","request_id":"req-000065","responce":"{\"request_id\":\"CBA673E2-4A23-4084-B76D-7C1608678E06\",\"status\":\"queued\"}","status_code":202,"url":"/chats/private"}
[13-01 18:47:05] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000066","url":"/request/CBA673E2-4A23-4084-B76D-7C1608678E06/status"}
[13-01 18:47:05] [info] [AuthMiddleware::needToAuth] Check to auth url /request/CBA673E2-4A23-4084-B76D-7C1608678E06/status
[13-01 18:47:05] [info] [GatewayServer::registerRequestRoute] Request id = CBA673E2-4A23-4084-B76D-7C1608678E06
[13-01 18:47:05] [info] [GatewayServer::registerRequestRoute] Status found, return {"id":7416880792917278720,"type":"private","user":{"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg","id":7416880099028385792,"name":"roma7name"},"status":"finished"}
[13-01 18:47:05] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000066","responce":"{\"id\":7416880792917278720,\"type\":\"private\",\"user\":{\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880099028385792,\"name\":\"roma7name\"},\"status\":\"finished\"}","status_code":200,"url":"/request/CBA673E2-4A23-4084-B76D-7C1608678E06/status"}
[13-01 18:47:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000067","url":"/messages/7416880792917278720"}
[13-01 18:47:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:47:06] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000068","url":"/messages/7416880792917278720"}
[13-01 18:47:06] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:47:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":54,"event":"response_sent","method":"GET","request_id":"req-000067","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:47:06] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":52,"event":"response_sent","method":"GET","request_id":"req-000068","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 18:53:28] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:53:28] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:53:28] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:53:29] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:53:29] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:53:29] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:53:32] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:53:32] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:53:32] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 18:53:33] [info] [] Logger initialized for service 'Gateway'
[13-01 18:53:33] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 18:53:33] [info] [] Read 451 bytes
[13-01 18:53:33] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 18:53:33] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 18:53:33] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 18:53:37] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[13-01 18:53:37] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 18:53:37] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":19,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 18:53:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[13-01 18:53:38] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:53:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:53:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:53:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:53:38] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 381255 seconds
[13-01 18:53:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 18:53:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416880792917278720"}
[13-01 18:53:38] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:53:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416880792917278720"}
[13-01 18:53:38] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:53:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":60,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 18:53:38] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":62,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 18:53:38] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[13-01 18:53:38] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:53:38] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:53:38] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:53:38] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:57:08] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 18:57:10] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 18:57:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/auth/me"}
[13-01 18:57:17] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 18:57:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":13,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 18:57:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/chats"}
[13-01 18:57:17] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 18:57:17] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 18:57:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:57:17] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 18:57:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 18:57:17] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 1046963 seconds
[13-01 18:57:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 18:57:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/messages/7416880792917278720"}
[13-01 18:57:17] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:57:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/messages/7416880792917278720"}
[13-01 18:57:17] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 18:57:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":24,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 18:57:17] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":26,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 18:57:17] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/ws"}
[13-01 18:57:17] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 18:57:17] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 18:57:17] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 18:57:17] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:03:09] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/auth/me"}
[13-01 19:03:09] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:03:09] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":46,"event":"response_sent","method":"GET","request_id":"req-000010","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:03:10] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/chats"}
[13-01 19:03:10] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:03:10] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:03:10] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:03:10] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:03:10] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:03:10] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 594962 seconds
[13-01 19:03:10] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:03:10] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/messages/7416880792917278720"}
[13-01 19:03:10] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:03:10] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/messages/7416880792917278720"}
[13-01 19:03:10] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:03:10] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/ws"}
[13-01 19:03:10] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:03:10] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:03:10] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:03:10] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":121,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:03:10] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":123,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:03:10] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:07:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000015","url":"/auth/me"}
[13-01 19:07:52] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:07:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":48,"event":"response_sent","method":"GET","request_id":"req-000015","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:07:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000016","url":"/chats"}
[13-01 19:07:52] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:07:52] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:07:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:07:52] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:07:52] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:07:52] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 19:07:52] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000016","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:07:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/messages/7416880792917278720"}
[13-01 19:07:52] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:07:52] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/messages/7416880792917278720"}
[13-01 19:07:52] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:07:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":72,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:07:53] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"GET","request_id":"req-000018","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:07:53] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/ws"}
[13-01 19:07:53] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:07:53] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:07:53] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:07:53] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:10:49] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/auth/me"}
[13-01 19:10:49] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:10:49] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000020","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:10:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/chats"}
[13-01 19:10:50] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:10:50] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:10:50] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:10:50] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:10:50] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:10:50] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 331802 seconds
[13-01 19:10:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:10:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/messages/7416880792917278720"}
[13-01 19:10:50] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:10:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/messages/7416880792917278720"}
[13-01 19:10:50] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:10:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":97,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:10:50] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":97,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:10:50] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/ws"}
[13-01 19:10:50] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:10:50] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:10:50] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:10:50] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:14:51] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 19:14:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/auth/me"}
[13-01 19:14:56] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:14:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":47,"event":"response_sent","method":"GET","request_id":"req-000025","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:14:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000026","url":"/chats"}
[13-01 19:14:57] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:14:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:14:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:14:57] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:14:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:14:57] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 19:14:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000026","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:14:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/messages/7416880792917278720"}
[13-01 19:14:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:14:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/messages/7416880792917278720"}
[13-01 19:14:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:14:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":66,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:14:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":69,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"null","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:14:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000029","url":"/ws"}
[13-01 19:14:57] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:14:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:14:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:14:57] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:15:39] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 19:16:18] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/auth/me"}
[13-01 19:16:18] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:16:18] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000030","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:16:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/chats"}
[13-01 19:16:19] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:16:19] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:16:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:16:19] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:16:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:16:19] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 255400 seconds
[13-01 19:16:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:16:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/messages/7416880792917278720"}
[13-01 19:16:19] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:16:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/messages/7416880792917278720"}
[13-01 19:16:19] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:16:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":36,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":0,\"receiver_read_status\":false},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":0,\"receiver_read_status\":false},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:16:19] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":38,"event":"response_sent","method":"GET","request_id":"req-000032","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":0,\"receiver_read_status\":false},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":0,\"receiver_read_status\":false},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:16:19] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/ws"}
[13-01 19:16:19] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:16:19] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:16:19] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:16:19] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:17:23] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 19:34:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000035","url":"/auth/me"}
[13-01 19:34:58] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:34:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000035","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:34:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/chats"}
[13-01 19:34:58] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:34:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:34:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:34:58] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:34:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:34:58] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 19:34:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":11,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:34:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000037","url":"/messages/7416880792917278720"}
[13-01 19:34:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:34:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/messages/7416880792917278720"}
[13-01 19:34:58] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:34:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":79,"event":"response_sent","method":"GET","request_id":"req-000037","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:34:58] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":79,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:34:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/ws"}
[13-01 19:34:59] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:34:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:34:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:34:59] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:35:11] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 19:35:14] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/auth/me"}
[13-01 19:35:14] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:35:14] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":10,"event":"response_sent","method":"GET","request_id":"req-000040","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:35:14] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/chats"}
[13-01 19:35:14] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:35:14] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:35:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:35:14] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 19:35:14] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:35:14] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 19:35:14] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":4,"event":"response_sent","method":"GET","request_id":"req-000041","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:35:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/messages/7416880792917278720"}
[13-01 19:35:15] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:35:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/messages/7416880792917278720"}
[13-01 19:35:15] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:35:15] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000042","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:35:15] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":14,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:35:15] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/ws"}
[13-01 19:35:15] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:35:15] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:35:15] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:35:15] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 19:53:08] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/auth/me"}
[13-01 19:53:08] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 19:53:08] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":59,"event":"response_sent","method":"GET","request_id":"req-000045","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 19:53:08] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/chats"}
[13-01 19:53:08] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 19:53:08] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 19:53:08] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:53:08] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 19:53:08] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 19:53:08] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":75,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 19:53:08] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/messages/7416880792917278720"}
[13-01 19:53:08] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:53:08] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/messages/7416880792917278720"}
[13-01 19:53:08] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 19:53:08] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/ws"}
[13-01 19:53:08] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 19:53:08] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 19:53:08] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 19:53:08] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":99,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:53:08] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":99,"event":"response_sent","method":"GET","request_id":"req-000047","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 19:53:08] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:31] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 20:52:38] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:38] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:38] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:38] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 20:52:38] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 21:00:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:00:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:00:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:00:01] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:00:03] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 21:00:03] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 21:00:03] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 21:00:03] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1006, reason=Abnormal closure
[13-01 21:14:59] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:04] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:06] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/auth/me"}
[13-01 21:15:11] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:15:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":79,"event":"response_sent","method":"GET","request_id":"req-000050","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:15:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/chats"}
[13-01 21:15:12] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:15:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:15:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:12] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 1251404 seconds
[13-01 21:15:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":81,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:15:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/messages/7416880792917278720"}
[13-01 21:15:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000053","url":"/messages/7416880792917278720"}
[13-01 21:15:12] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:12] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":83,"event":"response_sent","method":"GET","request_id":"req-000053","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":83,"event":"response_sent","method":"GET","request_id":"req-000052","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/ws"}
[13-01 21:15:12] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:15:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:15:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:15:12] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/auth/me"}
[13-01 21:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000055","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/chats"}
[13-01 21:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:15:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:30] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:30] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/messages/7416880792917278720"}
[13-01 21:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000058","url":"/messages/7416880792917278720"}
[13-01 21:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000057","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:30] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000058","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:30] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000059","url":"/ws"}
[13-01 21:15:30] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:15:30] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:15:30] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:15:31] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:49] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:15:51] [info] [] Logger initialized for service 'Gateway'
[13-01 21:15:51] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 21:15:51] [info] [] Read 451 bytes
[13-01 21:15:51] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 21:15:51] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 21:15:51] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 21:15:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[13-01 21:15:57] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:15:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:15:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[13-01 21:15:57] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:15:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:15:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:57] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:15:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:15:57] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:15:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:15:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416880792917278720"}
[13-01 21:15:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416880792917278720"}
[13-01 21:15:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:15:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":37,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":37,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:15:58] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[13-01 21:15:58] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:15:58] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:15:58] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:15:58] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:16:37] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:16:38] [info] [] Logger initialized for service 'Gateway'
[13-01 21:16:38] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 21:16:38] [info] [] Read 451 bytes
[13-01 21:16:38] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 21:16:38] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 21:16:38] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 21:16:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[13-01 21:16:41] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:16:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":9,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:16:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[13-01 21:16:41] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:16:41] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:16:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:16:41] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:16:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:16:41] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 271936 seconds
[13-01 21:16:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:16:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416880792917278720"}
[13-01 21:16:41] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:16:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416880792917278720"}
[13-01 21:16:41] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:16:42] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:16:42] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:16:42] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[13-01 21:16:42] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:16:42] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:16:42] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:16:42] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:19:23] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:19:23] [info] [] Logger initialized for service 'Gateway'
[13-01 21:19:23] [info] [] Loading JWT public key from /Users/roma/QtProjects/Chat/Backend/shared_keys/public_key.pem
[13-01 21:19:23] [info] [] Read 451 bytes
[13-01 21:19:23] [info] [] Key starts with: -----BEGIN PUBLIC KEY-----
MII
[13-01 21:19:23] [info] [JWTVerifier::JWTVerifier] JWTVerifier initialized successfully.
[13-01 21:19:23] [info] [GatewayServer::run] Starting API Gateway on port 8084
[13-01 21:19:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000000","url":"/auth/me"}
[13-01 21:19:27] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:19:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":9,"event":"response_sent","method":"GET","request_id":"req-000000","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:19:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000001","url":"/chats"}
[13-01 21:19:27] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:19:27] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:19:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:19:27] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:19:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:19:27] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 275254 seconds
[13-01 21:19:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":3,"event":"response_sent","method":"GET","request_id":"req-000001","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:19:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000002","url":"/messages/7416880792917278720"}
[13-01 21:19:27] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:19:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000003","url":"/messages/7416880792917278720"}
[13-01 21:19:27] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:19:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":18,"event":"response_sent","method":"GET","request_id":"req-000002","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:19:27] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":18,"event":"response_sent","method":"GET","request_id":"req-000003","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:19:27] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000004","url":"/ws"}
[13-01 21:19:27] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:19:27] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:19:27] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:19:27] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:21:44] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000005","url":"/auth/me"}
[13-01 21:21:44] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:21:44] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000005","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:21:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000006","url":"/chats"}
[13-01 21:21:45] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:21:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:21:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:21:45] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:21:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:21:45] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 234209 seconds
[13-01 21:21:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000006","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:21:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000007","url":"/messages/7416880792917278720"}
[13-01 21:21:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:21:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000008","url":"/messages/7416880792917278720"}
[13-01 21:21:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:21:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":15,"event":"response_sent","method":"GET","request_id":"req-000008","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:21:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":16,"event":"response_sent","method":"GET","request_id":"req-000007","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:21:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000009","url":"/ws"}
[13-01 21:21:45] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:21:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:21:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:21:45] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:25:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000010","url":"/auth/me"}
[13-01 21:25:35] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:25:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":46,"event":"response_sent","method":"GET","request_id":"req-000010","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:25:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000011","url":"/chats"}
[13-01 21:25:35] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:25:35] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:25:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:25:35] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:25:35] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:25:35] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:25:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000011","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:25:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000012","url":"/messages/7416880792917278720"}
[13-01 21:25:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:25:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000013","url":"/messages/7416880792917278720"}
[13-01 21:25:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:25:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":84,"event":"response_sent","method":"GET","request_id":"req-000012","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:25:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":82,"event":"response_sent","method":"GET","request_id":"req-000013","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:25:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000014","url":"/ws"}
[13-01 21:25:36] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:25:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:25:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:25:36] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:26:29] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:26:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000015","url":"/auth/me"}
[13-01 21:26:32] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:26:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000015","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:26:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000016","url":"/chats"}
[13-01 21:26:33] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:26:33] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:26:33] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:26:33] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:26:33] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:26:33] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:26:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000016","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:26:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000017","url":"/messages/7416880792917278720"}
[13-01 21:26:33] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:26:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000018","url":"/messages/7416880792917278720"}
[13-01 21:26:33] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:26:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":65,"event":"response_sent","method":"GET","request_id":"req-000018","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:26:33] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":69,"event":"response_sent","method":"GET","request_id":"req-000017","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:26:33] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000019","url":"/ws"}
[13-01 21:26:33] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:26:33] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:26:33] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:26:33] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:26:56] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:26:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000020","url":"/auth/me"}
[13-01 21:26:59] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:26:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000020","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:26:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000021","url":"/chats"}
[13-01 21:26:59] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:26:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:26:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:26:59] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:26:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:26:59] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 663493 seconds
[13-01 21:26:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000021","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:26:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000022","url":"/messages/7416880792917278720"}
[13-01 21:26:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:26:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000023","url":"/messages/7416880792917278720"}
[13-01 21:26:59] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:26:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":12,"event":"response_sent","method":"GET","request_id":"req-000022","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:26:59] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":12,"event":"response_sent","method":"GET","request_id":"req-000023","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:26:59] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000024","url":"/ws"}
[13-01 21:26:59] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:26:59] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:26:59] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:26:59] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:39:11] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000025","url":"/auth/me"}
[13-01 21:39:11] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:39:11] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":56,"event":"response_sent","method":"GET","request_id":"req-000025","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:39:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000026","url":"/chats"}
[13-01 21:39:12] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:39:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:39:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:39:12] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:39:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:39:12] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 1298567 seconds
[13-01 21:39:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000026","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:39:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000027","url":"/messages/7416880792917278720"}
[13-01 21:39:12] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:39:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000028","url":"/messages/7416880792917278720"}
[13-01 21:39:12] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:39:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":70,"event":"response_sent","method":"GET","request_id":"req-000028","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:39:12] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":71,"event":"response_sent","method":"GET","request_id":"req-000027","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:39:12] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000029","url":"/ws"}
[13-01 21:39:12] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:39:12] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:39:12] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:39:12] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:39:19] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:39:21] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000030","url":"/auth/me"}
[13-01 21:39:21] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:39:21] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000030","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:39:22] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000031","url":"/chats"}
[13-01 21:39:22] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:39:22] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:39:22] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:39:22] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:39:22] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:39:22] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 221526 seconds
[13-01 21:39:22] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":1,"event":"response_sent","method":"GET","request_id":"req-000031","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:39:22] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000032","url":"/messages/7416880792917278720"}
[13-01 21:39:22] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:39:22] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000033","url":"/messages/7416880792917278720"}
[13-01 21:39:22] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:39:22] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":12,"event":"response_sent","method":"GET","request_id":"req-000032","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:39:22] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":12,"event":"response_sent","method":"GET","request_id":"req-000033","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:39:22] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000034","url":"/ws"}
[13-01 21:39:22] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:39:22] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:39:22] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:39:22] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:45:48] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000035","url":"/auth/me"}
[13-01 21:45:48] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:45:48] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":57,"event":"response_sent","method":"GET","request_id":"req-000035","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:45:49] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000036","url":"/chats"}
[13-01 21:45:49] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:45:49] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:45:49] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:45:49] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:45:49] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:45:49] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 1308599 seconds
[13-01 21:45:49] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000036","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:45:49] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000037","url":"/messages/7416880792917278720"}
[13-01 21:45:49] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:45:49] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000038","url":"/messages/7416880792917278720"}
[13-01 21:45:49] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:45:49] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":22,"event":"response_sent","method":"GET","request_id":"req-000038","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:45:49] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":23,"event":"response_sent","method":"GET","request_id":"req-000037","responce":"Bad Gateway: downstream no response","status_code":502,"url":"/messages/7416880792917278720"}
[13-01 21:45:49] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000039","url":"/ws"}
[13-01 21:45:49] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:45:49] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:45:49] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:45:49] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:52:35] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000040","url":"/auth/me"}
[13-01 21:52:35] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:52:35] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":56,"event":"response_sent","method":"GET","request_id":"req-000040","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:52:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000041","url":"/chats"}
[13-01 21:52:36] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:52:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:52:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:36] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:52:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:36] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:52:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000041","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:52:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000042","url":"/messages/7416880792917278720"}
[13-01 21:52:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000043","url":"/messages/7416880792917278720"}
[13-01 21:52:36] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000043","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:36] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":52,"event":"response_sent","method":"GET","request_id":"req-000042","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:36] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000044","url":"/ws"}
[13-01 21:52:36] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:52:36] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:52:36] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:52:36] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:52:41] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:52:44] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000045","url":"/auth/me"}
[13-01 21:52:44] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:52:44] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":8,"event":"response_sent","method":"GET","request_id":"req-000045","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:52:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000046","url":"/chats"}
[13-01 21:52:45] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:52:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:52:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:45] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:52:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:45] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 21:52:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":6,"event":"response_sent","method":"GET","request_id":"req-000046","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:52:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000047","url":"/messages/7416880792917278720"}
[13-01 21:52:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000048","url":"/messages/7416880792917278720"}
[13-01 21:52:45] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":32,"event":"response_sent","method":"GET","request_id":"req-000048","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:45] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":34,"event":"response_sent","method":"GET","request_id":"req-000047","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:45] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000049","url":"/ws"}
[13-01 21:52:45] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:52:45] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:52:45] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:52:45] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:52:48] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 21:52:56] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000050","url":"/auth/me"}
[13-01 21:52:56] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 21:52:56] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":14,"event":"response_sent","method":"GET","request_id":"req-000050","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 21:52:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000051","url":"/chats"}
[13-01 21:52:57] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 21:52:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 21:52:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:57] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 21:52:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 21:52:57] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 1638876 seconds
[13-01 21:52:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":5,"event":"response_sent","method":"GET","request_id":"req-000051","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 21:52:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000052","url":"/messages/7416880792917278720"}
[13-01 21:52:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000053","url":"/messages/7416880792917278720"}
[13-01 21:52:57] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 21:52:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000052","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:57] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000053","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 21:52:57] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000054","url":"/ws"}
[13-01 21:52:57] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 21:52:57] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 21:52:57] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 21:52:57] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 21:53:00] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 22:01:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000055","url":"/auth/me"}
[13-01 22:01:31] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 22:01:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":51,"event":"response_sent","method":"GET","request_id":"req-000055","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 22:01:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000056","url":"/chats"}
[13-01 22:01:31] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 22:01:31] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 22:01:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 22:01:31] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 22:01:31] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 22:01:31] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 237002 seconds
[13-01 22:01:31] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":7,"event":"response_sent","method":"GET","request_id":"req-000056","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 22:01:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000057","url":"/messages/7416880792917278720"}
[13-01 22:01:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 22:01:31] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000058","url":"/messages/7416880792917278720"}
[13-01 22:01:31] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 22:01:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":72,"event":"response_sent","method":"GET","request_id":"req-000057","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 22:01:32] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":72,"event":"response_sent","method":"GET","request_id":"req-000058","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[2,1]],\"receiver_reaction\":2},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 22:01:32] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000059","url":"/ws"}
[13-01 22:01:32] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 22:01:32] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 22:01:32] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 22:01:32] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 22:01:39] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
[13-01 22:01:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000060","url":"/auth/me"}
[13-01 22:01:41] [info] [AuthMiddleware::needToAuth] Check to auth url /auth/me
[13-01 22:01:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":9,"event":"response_sent","method":"GET","request_id":"req-000060","responce":"{\"user\":{\"tag\":\"roma8\",\"name\":\"roma8name\",\"email\":\"roma8@gmail.com\",\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\",\"id\":7416880777901654016},\"token\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjIwODM2ODIxNzYsImlzcyI6ImF1dGhfc2VydmljZSIsInN1YiI6Ijc0MTY4ODA3Nzc5MDE2NTQwMTYifQ.cEXMktBa0lJtNf6cU7g5WHg_omlNNMZfSfJYSwYulCBcTjaAkeAjx0SE6eILVBd590Abv3ZMICe2UsSzF5hNyDxj-LoSlafxRIHaAF9QdzxVEkqxLQvytb-XS5JkEDeQPnmxQpkbNGQixZKDfMVcFYW_8wThPWYIl2cWvUSkRZdkMdhbwdQ0zdoBuCevP3v40HlHkSjdPcUi1FVFjGY6XkJ5bBeUn6prk5k9Oey6-BID4VYm49SzXlZKOVSNbbwnm6p_IKd0ccK0OwygrVeUdHkqrnPa94epQvFzvoMRd3-XmRQWFx4EYmcEMN_YR1vSlGY-rXp8Dp-z1xLv8bkSHQ\"}","status_code":200,"url":"/auth/me"}
[13-01 22:01:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000061","url":"/chats"}
[13-01 22:01:41] [info] [AuthMiddleware::needToAuth] Check to auth url /chats
[13-01 22:01:41] [info] [CacheMiddleware::before_handle] Url before_handle cache: /chats
[13-01 22:01:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 22:01:41] [info] [CacheMiddleware::before_handle] Hit cache
[13-01 22:01:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /chats : cache:GET:/chats 
[13-01 22:01:41] [info] [RedisCache::set] Set cache:GET:/chats - {"chats":[{"user":{"name":"roma7name","id":7416880099028385792,"avatar":"/Users/roma/QtProjects/Chat/default_avatar.jpeg"},"type":"private","id":7416880792917278720}]} for 300 seconds
[13-01 22:01:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":2,"event":"response_sent","method":"GET","request_id":"req-000061","responce":"{\"chats\":[{\"user\":{\"name\":\"roma7name\",\"id\":7416880099028385792,\"avatar\":\"/Users/roma/QtProjects/Chat/default_avatar.jpeg\"},\"type\":\"private\",\"id\":7416880792917278720}]}","status_code":200,"url":"/chats"}
[13-01 22:01:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000062","url":"/messages/7416880792917278720"}
[13-01 22:01:41] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 22:01:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000063","url":"/messages/7416880792917278720"}
[13-01 22:01:41] [info] [AuthMiddleware::needToAuth] Check to auth url /messages/7416880792917278720
[13-01 22:01:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":33,"event":"response_sent","method":"GET","request_id":"req-000062","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 22:01:41] [info] [LoggingMiddleware::after_handle] RES: {"client_ip":"127.0.0.1","duration_ms":35,"event":"response_sent","method":"GET","request_id":"req-000063","responce":"[{\"chat_id\":7416880792917278720,\"id\":7416890578660540416,\"local_id\":\"{b390152e-8659-4982-a56c-2b5597bb0731}\",\"reactions\":{\"counts\":[[1,1]],\"receiver_reaction\":1},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"oooo\",\"timestamp\":1768324513},{\"chat_id\":7416880792917278720,\"id\":7416890526504370176,\"local_id\":\"{59e7229b-6d7b-4fe1-b22f-1075b5330ca0}\",\"reactions\":{\"counts\":[],\"receiver_reaction\":null},\"read\":{\"count\":1,\"receiver_read_status\":true},\"sender_id\":7416880777901654016,\"text\":\"ooo\",\"timestamp\":1768324500}]","status_code":200,"url":"/messages/7416880792917278720"}
[13-01 22:01:41] [info] [LoggingMiddleware::before_handle] REQ: {"client_ip":"127.0.0.1","event":"request_received","method":"GET","request_id":"req-000064","url":"/ws"}
[13-01 22:01:41] [info] [AuthMiddleware::needToAuth] Check to auth url /ws
[13-01 22:01:41] [info] [CacheMiddleware::before_handle] Url before_handle cache: /ws
[13-01 22:01:41] [info] [CacheMiddleware::makeCacheKey] makeCacheKey for req /ws : cache:GET:/ws 
[13-01 22:01:41] [info] [WebSocketBridge::createBackendConnection] Backend WS connected
[13-01 22:01:44] [info] [WebSocketBridge::createBackendConnection] Backend WS closed: code=1000, reason=Normal closure
